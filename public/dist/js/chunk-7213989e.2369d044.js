(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7213989e"],{"0ba1":function(t,e,s){},c028:function(t,e,s){"use strict";var i=s("0ba1"),n=s.n(i);n.a},c7d7:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{on:{click:t.closePopups}},[s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"settings-popup-item-wrapper"},[t._v("\n\t\t\tRequired\n\t\t")]),s("div",{staticClass:"settings-popup-item-wrapper"},[s("div",{staticClass:"settings-popup-radio-wrapper"},[s("div",{staticClass:"settings-popup-radio-btn",class:{active:t.settings.required},on:{click:function(e){t.settings.required=!0}}},[t._v("Yes")]),s("div",{staticClass:"settings-popup-radio-btn",class:{active:!t.settings.required},on:{click:function(e){t.settings.required=!1}}},[t._v("No")])])])]),s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"settings-popup-item-wrapper"},[t._v("Table")]),s("div",{staticClass:"em-node__table-select em-node-field__position__revative"},[s("div",{staticClass:"em-node-item-wrapper"},[s("div",{staticClass:"em-node-item",on:{click:function(e){return e.stopPropagation(),t.togglePopup("showTablePopup")}}},[t._v("\n\t\t\t\t\t"+t._s(t.settings.bindTable)+"\n\t\t\t\t")])]),t.showTablePopup?s("div",{staticClass:"em-node-search"},[s("div",{staticClass:"em-node-search-popup-head"},[s("div",{staticClass:"em-node-search-item"},[t._v("\n\t\t\t\t\t\t"+t._s(t.settings.bindTable)+"\n\t\t\t\t\t")])]),t._l(t.tables,function(e){return s("div",{staticClass:"em-node-search-popup-item",on:{click:function(s){return s.stopPropagation(),t.selectTable(e)}}},[s("div",{staticClass:"em-node-search-icon"},[s("svg",{attrs:{width:"6",height:"5"}},[s("use",{attrs:{"xlink:href":"#lines"}})])]),s("div",{staticClass:"em-node-search-item"},[t._v("\n\t\t\t\t\t\t"+t._s(e.code)+"\n\t\t\t\t\t")])])})],2):t._e()])]),t.selectedTable.code?s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"settings-popup-item-wrapper"},[t._v("Bind field")]),s("div",{staticClass:"em-node__table-select em-node-field__position__revative"},[s("div",{staticClass:"em-node-item-wrapper"},[s("div",{staticClass:"em-node-item",on:{click:function(e){return e.stopPropagation(),t.togglePopup("showBindPopup")}}},[t._v("\n\t\t\t\t\t"+t._s(t.settings.bindField)+"\n\t\t\t\t")])]),t.showBindPopup?s("div",{staticClass:"em-node-search"},[s("div",{staticClass:"em-node-search-popup-head"},[s("div",{staticClass:"em-node-search-item"},[t._v("\n\t\t\t\t\t\t"+t._s(t.settings.bindField)+"\n\t\t\t\t\t")])]),t._l(t.tableColumns,function(e){return s("div",{staticClass:"em-node-search-popup-item",on:{click:function(s){return s.stopPropagation(),t.selectBindField(e)}}},[s("div",{staticClass:"em-node-search-icon"},[s("svg",{attrs:{width:"6",height:"5"}},[s("use",{attrs:{"xlink:href":"#lines"}})])]),s("div",{staticClass:"em-node-search-item"},[t._v("\n\t\t\t\t\t\t"+t._s(e.field)+"\n\t\t\t\t\t")])])})],2):t._e()])]):t._e(),t.selectedTable.code?s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"settings-popup-item-wrapper"},[t._v("search field")]),s("div",{staticClass:"em-node__table-select em-node-field__position__revative"},[s("div",{staticClass:"em-node-item-wrapper"},[s("div",{staticClass:"em-node-item",on:{click:function(e){return e.stopPropagation(),t.togglePopup("showSearchPopup")}}},[t._v("\n\t\t\t\t\t"+t._s(t.settings.searchField)+"\n\t\t\t\t")])]),t.showSearchPopup?s("div",{staticClass:"em-node-search"},[s("div",{staticClass:"em-node-search-popup-head"},[s("div",{staticClass:"em-node-search-item"},[t._v("\n\t\t\t\t\t\t"+t._s(t.settings.searchField)+"\n\t\t\t\t\t")])]),t._l(t.tableColumns,function(e){return s("div",{staticClass:"em-node-search-popup-item",on:{click:function(s){return s.stopPropagation(),t.selectSearchField(e)}}},[s("div",{staticClass:"em-node-search-icon"},[s("svg",{attrs:{width:"6",height:"5"}},[s("use",{attrs:{"xlink:href":"#lines"}})])]),s("div",{staticClass:"em-node-search-item"},[t._v("\n\t\t\t\t\t\t"+t._s(e.field)+"\n\t\t\t\t\t")])])})],2):t._e()])]):t._e()])},n=[],a=(s("ac4d"),s("8a81"),s("ac6a"),{props:["isRequired","fieldSettings"],data:function(){return{settings:{},showTablePopup:!1,showBindPopup:!1,showSearchPopup:!1,selectedTable:{}}},watch:{settings:{handler:function(t,e){this.$emit("changeSettings",this.settings)},deep:!0}},computed:{tables:function(){return this.$store.state.tables.tables},tableColumns:function(){return this.settings.bindTable?this.selectedTable.columns:[]}},methods:{selectTable:function(t){this.settings.bindTable=t.code,this.settings.bindField=t.columns["id"].field,this.settings.searchField=t.columns["id"].field,this.selectedTable=t,this.closePopups()},togglePopup:function(t){this.closePopups(),this[t]=!this[t]},selectBindField:function(t){this.settings.bindField=t.field,this.closePopups()},selectSearchField:function(t){this.settings.searchField=t.field,this.closePopups()},closePopups:function(){this.showTablePopup=!1,this.showBindPopup=!1,this.showSearchPopup=!1}},mounted:function(){if("undefined"==typeof this.settings.bindTable&&(this.$set(this.settings,"bindTable","undefined"==typeof this.fieldSettings.bindTable?"Не выбрано":this.fieldSettings.bindTable),this.$set(this.settings,"bindField","undefined"==typeof this.fieldSettings.bindField?"Не выбрано":this.fieldSettings.bindField),this.$set(this.settings,"searchField","undefined"==typeof this.fieldSettings.searchField?"Не выбрано":this.fieldSettings.searchField),"undefined"!=typeof this.fieldSettings.bindTable)){var t=!0,e=!1,s=void 0;try{for(var i,n=this.tables[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var a=i.value;this.fieldSettings.bindTable==a.code&&(this.selectedTable=a)}}catch(o){e=!0,s=o}finally{try{t||null==n.return||n.return()}finally{if(e)throw s}}}"undefined"==typeof this.settings.required&&this.$set(this.settings,"required",this.isRequired),this.$emit("changeSettings",this.settings)}}),o=a,d=(s("c028"),s("2877")),l=Object(d["a"])(o,i,n,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-7213989e.2369d044.js.map