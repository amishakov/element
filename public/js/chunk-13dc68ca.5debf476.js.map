{"version":3,"sources":["webpack:///./src/components/fields/em_matrix/Field.vue?ab06","webpack:///./src/components/fields/em_matrix/Field.vue","webpack:///src/components/fields/em_matrix/Field.vue","webpack:///./src/components/fields/em_matrix/Field.vue?a8b7","webpack:///./src/components/fields/em_matrix/Field.vue?ec3f","webpack:///./src/components/popups/DetailPopup.vue","webpack:///src/components/popups/DetailPopup.vue","webpack:///./src/components/popups/DetailPopup.vue?760f","webpack:///./src/components/popups/DetailPopup.vue?5ed4","webpack:///./src/components/tviews/Detail.vue?7ef9","webpack:///./src/components/popups/DetailPopup.vue?cf9a","webpack:///./src/mixins/detailFunctions.js","webpack:///./src/components/tviews/Detail.vue","webpack:///src/components/tviews/Detail.vue","webpack:///./src/components/tviews/Detail.vue?84fd","webpack:///./src/components/tviews/Detail.vue?bbe1"],"names":["render","_vm","this","_c","_self","staticClass","view","fieldValue","matrixValue","length","_l","tableHead","fieldCode","_v","_s","tableRow","rowIndex","columnItem","on","$event","popupForEditMatrixColumn","$t","removeMatrixElement","tableCode","fieldSettings","finalTableCode","selectedElement","_e","popupForCreateMatrixElement","attrs","showDetail","detailTableCode","detailName","detailTableId","currentElement","savePopupMatrixElement","createPopupMatrixElement","removePopupMatrixElement","staticRenderFns","props","components","DetailPopup","mixins","data","computed","tableCols","detailElement","methods","updateMatrixTableElement","element","index","createMatrixTableElement","removeMatrixTableElement","row","bindDefaultColumnValues","result","component","isPopupVisible","name","id","updatedElAt","cancel","openDetail","saveDetailElement","removeDetailElement","createDetailElement","Detail","get","set","val","saveElement","$store","dispatch","createElement","primaryKeyCode","getters","getPrimaryKeyCode","setValues","insertData","qs","stringify","insert","table","values","$axios","post","removeElement","delete","where","operation","fields","code","value","confirmDeleteButtons","removeMessage","onConfirmRemove","onCancelRemove","class","isShowSidebar","confirmRemove","column","columnCode","key","require","columnEmSettings","type_info","iconPath","getColumnName","columns","em","settings","getColumnSettings","changeFieldValue","MainField","MobileBurger","mapGetters","fieldNames","confirm","text","watch","newId","mounted","selectElement","requestParams","select","order","remove"],"mappings":"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","file":"js/chunk-13dc68ca.5debf476.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=style&index=0&id=283546a1&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"em-matrix\"},[(_vm.view=='detail')?_c('div',{staticClass:\"em-matrix-table\"},[(_vm.fieldValue.matrixValue.length)?_c('table',[_c('tr',[_vm._l((_vm.tableHead),function(fieldCode){return _c('th',[_vm._v(_vm._s(fieldCode))])}),_c('th')],2),_vm._l((_vm.fieldValue.matrixValue),function(tableRow,rowIndex){return _c('tr',[_vm._l((tableRow),function(columnItem){return _c('td',[_vm._v(_vm._s(columnItem))])}),_c('td',{staticClass:\"em-matrix-table__edit-btns\"},[_c('div',{staticClass:\"em-matrix-field__hover-btns\"},[_c('div',{staticClass:\"em-matrix-field em-matrix-field__edit\",on:{\"click\":function($event){return _vm.popupForEditMatrixColumn(tableRow, rowIndex)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.$t('edit'))+\"\\n\\t\\t\\t\\t\\t\\t\")]),_c('div',{staticClass:\"em-matrix-field em-matrix-field__remove\",on:{\"click\":function($event){return _vm.removeMatrixElement({tableCode:_vm.fieldSettings.finalTableCode, selectedElement: tableRow})}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.$t('remove'))+\"\\n\\t\\t\\t\\t\\t\\t\")])])])],2)})],2):_vm._e(),_c('div',{staticClass:\"em-matrix-row-add\",on:{\"click\":function($event){return _vm.popupForCreateMatrixElement()}}},[_c('div',{staticClass:\"em-matrix-row-add__icon\"},[_c('svg',{attrs:{\"width\":\"9\",\"height\":\"9\"}},[_c('use',{attrs:{\"xlink:href\":\"#plus-gray\"}})])]),_c('div',{staticClass:\"em-matrix-row-add__text\"},[_vm._v(\" New \")])])]):_c('div',[_c('span',{staticClass:\"el-empty\"},[_vm._v(\"Matrix field\")])]),_c('DetailPopup',{attrs:{\"visible\":_vm.showDetail,\"tableCode\":_vm.detailTableCode,\"name\":_vm.detailName,\"id\":_vm.detailTableId,\"element\":_vm.currentElement},on:{\"update:visible\":function($event){_vm.showDetail=$event},\"saveElement\":_vm.savePopupMatrixElement,\"createElement\":_vm.createPopupMatrixElement,\"removeElement\":_vm.removePopupMatrixElement}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"em-matrix\">\n\t\t<div class=\"em-matrix-table\" v-if=\"view=='detail'\">\n\t\t\t<table v-if=\"fieldValue.matrixValue.length\">\n\t\t\t\t<tr>\n\t\t\t\t\t<th v-for=\"fieldCode in tableHead\">{{fieldCode}}</th>\n\t\t\t\t\t<th></th>\n\t\t\t\t</tr>\n\t\t\t\t<tr v-for=\"(tableRow, rowIndex) in fieldValue.matrixValue\">\n\t\t\t\t\t<td v-for=\"columnItem in tableRow\">{{columnItem}}</td>\n\t\t\t\t\t<td class=\"em-matrix-table__edit-btns\">\n\t\t\t\t\t\t<div class=\"em-matrix-field__hover-btns\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"em-matrix-field em-matrix-field__edit\"\n\t\t\t\t\t\t\t\t@click=\"popupForEditMatrixColumn(tableRow, rowIndex)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{$t('edit')}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"em-matrix-field em-matrix-field__remove\"\n\t\t\t\t\t\t\t\t@click=\"removeMatrixElement({tableCode:fieldSettings.finalTableCode, selectedElement: tableRow})\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{$t('remove')}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t\t<div class=\"em-matrix-row-add\" @click=\"popupForCreateMatrixElement()\">\n\t\t\t\t<div class=\"em-matrix-row-add__icon\">\n\t\t\t\t\t<svg width=\"9\" height=\"9\">\n\t\t\t\t\t\t<use xlink:href=\"#plus-gray\"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"em-matrix-row-add__text\"> New </div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-else>\n\t\t\t<span class=\"el-empty\">Matrix field</span>\n\t\t</div>\n\t\t<DetailPopup\n\t\t\t:visible.sync=\"showDetail\"\n\t\t\t:tableCode=\"detailTableCode\"\n\t\t\t:name=\"detailName\"\n\t\t\t:id=\"detailTableId\"\n\t\t\t:element=\"currentElement\"\n\t\t\t@saveElement=\"savePopupMatrixElement\"\n\t\t\t@createElement=\"createPopupMatrixElement\"\n\t\t\t@removeElement=\"removePopupMatrixElement\"\n\t\t></DetailPopup>\n\t</div>\n</template>\n<script>\n\timport detailFunctions from '@/mixins/detailFunctions.js';\n\timport DetailPopup from '@/components/popups/DetailPopup';\n\texport default\n\t{\n\t\tprops: ['fieldValue','fieldSettings','mode', 'view'],\n\t\tcomponents:{DetailPopup},\n\t\tmixins: [detailFunctions],\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tshowDetail: false,\n\t\t\t\tdetailTableCode: false,\n\t\t\t\tdetailTableId: false,\n\t\t\t\tdetailName: false,\n\t\t\t\tcurrentElement: false,\n\t\t\t};\n\t\t},\n\t\tcomputed:\n\t\t{\n\t\t\ttableHead()\n\t\t\t{\n\t\t\t\tif (typeof this.fieldValue.matrixValue == 'undefined' || !this.fieldValue.matrixValue.length)\n\t\t\t\t\treturn [];\n\n\t\t\t\tlet tableCols = [];\n\t\t\t\tfor (let code in this.fieldValue.matrixValue[0])\n\t\t\t\t\ttableCols.push(code);\n\t\t\t\treturn tableCols;\n\t\t\t},\n\t\t\tdetailElement()\n\t\t\t{\n\t\t\t\treturn this.$store.state.tables.selectedElement;\n\t\t\t},\n\t\t},\n\t\tmethods:\n\t\t{\n\t\t\tupdateMatrixTableElement(element)\n\t\t\t{\n\t\t\t\tlet primaryKeyCode = this.$store.getters.getPrimaryKeyCode(this.fieldSettings.finalTableCode);\n\n\t\t\t\tfor (let [index, matrixValue] of this.fieldValue.matrixValue.entries())\n\t\t\t\t\tif (+matrixValue[primaryKeyCode] == +element[primaryKeyCode])\n\t\t\t\t\t\treturn this.fieldValue.matrixValue[index] = element;\n\t\t\t},\n\t\t\tcreateMatrixTableElement(element)\n\t\t\t{\n\t\t\t\tif (typeof this.fieldValue.matrixValue == 'undefined')\n\t\t\t\t\tthis.$set(this.fieldValue, 'matrixValue', []);\n\n\t\t\t\tlet primaryKeyCode = this.$store.getters.getPrimaryKeyCode(this.fieldSettings.finalTableCode);\n\t\t\t\tthis.fieldValue.matrixValue.push(element);\n\t\t\t},\n\t\t\tremoveMatrixTableElement(element)\n\t\t\t{\n\t\t\t\tlet primaryKeyCode = this.$store.getters.getPrimaryKeyCode(this.fieldSettings.finalTableCode);\n\n\t\t\t\tfor (let [index, matrixValue] of this.fieldValue.matrixValue.entries())\n\t\t\t\t\tif (+matrixValue[primaryKeyCode] == +element[primaryKeyCode])\n\t\t\t\t\t\t\treturn this.fieldValue.matrixValue.splice(index, 1);\n\t\t\t},\n\n\t\t\tpopupForEditMatrixColumn(row, rowIndex)\n\t\t\t{\n\t\t\t\tthis.currentElement  = false;\n\t\t\t\tlet primaryKeyCode   = this.$store.getters.getPrimaryKeyCode(this.fieldSettings.finalTableCode);\n\t\t\t\tthis.detailTableId   = row[primaryKeyCode];\n\t\t\t\tthis.detailTableCode = this.fieldSettings.finalTableCode;\n\t\t\t\tthis.detailName      = false;\n\t\t\t\tthis.showDetail      = true;\n\t\t\t},\n\t\t\tbindDefaultColumnValues()\n\t\t\t{\n\t\t\t\tthis.currentElement = [];\n\t\t\t\tlet table = this.$store.getters.getTable(this.fieldSettings.finalTableCode);\n\t\t\t\tfor (let column in table.columns)\n\t\t\t\t\tthis.currentElement[column] = '';\n\t\t\t\tthis.currentElement[this.fieldSettings.finalTableField] = this.detailElement[this.fieldSettings.localField];\n\t\t\t},\n\t\t\tpopupForCreateMatrixElement()\n\t\t\t{\n\t\t\t\tthis.bindDefaultColumnValues();\n\t\t\t\tthis.detailTableCode = this.fieldSettings.finalTableCode;\n\t\t\t\tthis.detailName      = 'tableAddElement';\n\t\t\t\tthis.showDetail      = true;\n\t\t\t},\n\t\t\tsavePopupMatrixElement(data, result)\n\t\t\t{\n\t\t\t\tif (result.data.success)\n\t\t\t\t{\n\t\t\t\t\tthis.updateMatrixTableElement(data.selectedElement);\n\t\t\t\t\tthis.ElMessage(this.$t('elMessages.element_saved'));\n\t\t\t\t\tthis.showDetail = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tcreatePopupMatrixElement(data, result)\n\t\t\t{\n\t\t\t\tif(result.data.success == true)\n\t\t\t\t{\n\t\t\t\t\tlet primaryKeyCode = this.$store.getters.getPrimaryKeyCode(this.fieldSettings.finalTableCode);\n\t\t\t\t\tdata.selectedElement[primaryKeyCode] = result.data.lastid;\n\t\t\t\t\tthis.createMatrixTableElement(data.selectedElement);\n\t\t\t\t\tthis.ElMessage(this.$t('elMessages.element_created'));\n\t\t\t\t\tthis.showDetail = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tthis.ElMessage.error(this.$t('elMessages.cant_create_element'));\n\t\t\t},\n\t\t\tremoveMatrixElement(data)\n\t\t\t{\n\t\t\t\tthis.removeElement(data);\n\t\t\t\tthis.showDetail = false;\n\t\t\t\tthis.ElMessage(this.$t('elMessages.element_removed'));\n\t\t\t\tthis.removeMatrixTableElement(data.selectedElement);\n\t\t\t},\n\t\t\tremovePopupMatrixElement(data, result)\n\t\t\t{\n\t\t\t\tthis.showDetail = false;\n\t\t\t\tthis.ElMessage(this.$t('elMessages.element_removed'));\n\t\t\t\tthis.removeMatrixTableElement(data.selectedElement);\n\t\t\t},\n\t\t},\n\t};\n</script>\n<style lang=\"scss\">\n\t.em-matrix-field__hover-btns\n\t{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t.detail-field-box .em-matrix\n\t{\n\t\twidth: 100vw;\n\t\tmax-width: 100vw;\n\t\tmargin-left: -14px;\n\t\toverflow: scroll;\n\t}\n\t.em-matrix-table__edit-btns\n\t{\n\t\tposition: sticky;\n\t\tright:0px;\n\t\tbackground:#fff;\n\t\topacity: 0;\n\t}\n\ttr:hover .em-matrix-table__edit-btns{opacity: 1; }\n\t.em-matrix-field__edit, .em-matrix-field__remove\n\t{\n\t\tpadding-left: 14px;\n\t\tborder: none;\n\t\tcolor: #677387;\n\t\tcursor: pointer;\n\t\ttransition: all .125s;\n\t}\n\t.em-matrix-field__edit {padding-left: 0px; }\n\t.em-matrix-field__remove {color: rgba(208, 18, 70, 0.7); }\n\t.em-matrix-row-add\n\t{\n\t\tcursor: pointer;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding-left: 13px;\n\t\tmin-height: 31px;\n\t}\n\t.em-matrix-row-add__icon\n\t{\n\t\tline-height: 0;\n\t\tfont-size: 0;\n\t\tmargin-right: 6px;\n\t}\n\t.em-matrix-row-add__text\n\t{\n\t\tcolor: #677387;\n\t\tfont-size: 10px;\n\t}\n\n\t.em-matrix-table\n\t{\n\t\toverflow: scroll;\n\t\tmax-width: 100%;\n\t\ttable\n\t\t{\n\t\t\twidth:calc(100%);\n\t\t\tfont-size: 12px;\n\t\t\tborder-collapse: collapse;\n\t\t\tmargin:-1px;\n\t\t\tth{text-transform:capitalize; }\n\t\t\ttd,th\n\t\t\t{\n\t\t\t\ttext-align: left;\n\t\t\t\tborder:1px solid #efefef;\n\t\t\t\tpadding:15px 13px;\n\t\t\t\tmin-width: 50px;\n\t\t\t\tmax-width: 200px;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow:ellipsis;\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Field.vue?vue&type=template&id=283546a1&\"\nimport script from \"./Field.vue?vue&type=script&lang=js&\"\nexport * from \"./Field.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Field.vue?vue&type=style&index=0&id=283546a1&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"detail-popup\"},[_c('Popup',{attrs:{\"visible\":_vm.isPopupVisible},on:{\"update:visible\":function($event){_vm.isPopupVisible=$event}}},[_c('Detail',{attrs:{\"tableCode\":_vm.tableCode,\"name\":_vm.name,\"id\":_vm.id,\"element\":_vm.element,\"updatedElAt\":_vm.updatedElAt},on:{\"update:updatedElAt\":function($event){_vm.updatedElAt=$event},\"update:updated-el-at\":function($event){_vm.updatedElAt=$event},\"cancel\":_vm.cancel,\"openDetail\":_vm.openDetail,\"saveElement\":_vm.saveDetailElement,\"removeElement\":_vm.removeDetailElement,\"createElement\":_vm.createDetailElement}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"detail-popup\">\n\t\t<Popup\n\t\t\t:visible.sync=\"isPopupVisible\"\n\t\t>\n\t\t\t<Detail\n\t\t\t\t:tableCode=\"tableCode\"\n\t\t\t\t:name=\"name\"\n\t\t\t\t:id=\"id\"\n\t\t\t\t:element=\"element\"\n\t\t\t\t:updatedElAt.sync=\"updatedElAt\"\n\t\t\t\t@cancel=\"cancel\"\n\t\t\t\t@openDetail=\"openDetail\"\n\t\t\t\t@saveElement=\"saveDetailElement\"\n\t\t\t\t@removeElement=\"removeDetailElement\"\n\t\t\t\t@createElement=\"createDetailElement\"\n\t\t\t/>\n\t\t</Popup>\n\t</div>\n</template>\n<script>\n\timport Detail from '@/components/tviews/Detail.vue'\n\timport detailFunctions from '@/mixins/detailFunctions.js';\n\texport default\n\t{\n\t\tprops: ['tableCode', 'name', 'id', 'visible', 'element'],\n\t\tcomponents: {Detail},\n\t\tmixins: [detailFunctions],\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tupdatedElAt: new Date(),\n\t\t\t};\n\t\t},\n\t\tcomputed:\n\t\t{\n\t\t\tisPopupVisible:\n\t\t\t{\n\t\t\t\tget()\n\t\t\t\t{\n\t\t\t\t\treturn this.visible\n\t\t\t\t},\n\t\t\t\tset(val)\n\t\t\t\t{\n\t\t\t\t\tthis.$emit('update:visible', val);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods:\n\t\t{\n\t\t\tcancel()\n\t\t\t{\n\t\t\t\tthis.isPopupVisible = false;\n\t\t\t},\n\t\t\topenDetail(data)\n\t\t\t{\n\t\t\t\tthis.$emit('openDetail', data);\n\t\t\t},\n\t\t\tasync saveDetailElement(data)\n\t\t\t{\n\t\t\t\tlet result = await this.saveElement(data);\n\t\t\t\tif(!result.data.success)\n\t\t\t\t\treturn this.ElMessage(result.data.message);\n\t\t\t\tthis.$emit('saveElement', ...[data, result]);\n\t\t\t\tthis.updatedElAt = new Date();\n\t\t\t},\n\t\t\tasync createDetailElement(data)\n\t\t\t{\n\t\t\t\tlet result = await this.createElement(data);\n\t\t\t\tif(!result.data.success)\n\t\t\t\t\treturn this.ElMessage(result.data.message);\n\n\t\t\t\tthis.$emit('createElement', ...[data, result]);\n\t\t\t},\n\t\t\tasync removeDetailElement(data)\n\t\t\t{\n\t\t\t\tlet result = await this.removeElement(data);\n\t\t\t\tif(!result.data.success)\n\t\t\t\t\treturn this.ElMessage(result.data.message);\n\t\t\t\tthis.$emit('removeElement', ...[data, result]);\n\t\t\t},\n\t\t},\n\t};\n</script>\n<style lang=\"scss\">\n\t.detail-popup\n\t{\n\t\tposition: absolute;\n\t\tz-index: 10;\n\t\t.popup-close{display: none;}\n\t\t.popup-block {min-width: 800px; }\n\t\t.detail\n\t\t{\n\t\t\tpadding:0;\n\t\t\tmax-height:calc(100% - 144px);\n\t\t\theight: auto;\n\t\t\toverflow: unset;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\t.detail-feilds\n\t\t\t{\n\t\t\t\tmargin-top: auto;\n\t\t\t\tmargin-bottom: auto;\n\t\t\t\theight: calc(100% + 85px);\n\t\t\t\toverflow: visible;\n\t\t\t}\n\t\t}\n\t\t.detail-head{padding-right: 0px; }\n\t}\n\t@media (max-width: 768px)\n\t{\n\t\t.detail-popup\n\t\t{\n\t\t\t.popup-block { min-width: unset; }\n\t\t\t.detail-head__burder { display: none; }\n\t\t\t.detail\n\t\t\t{\n\t\t\t\tflex-shrink: 0;\n\t\t\t\tflex-grow: 1;\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailPopup.vue?vue&type=template&id=6ea3b72d&\"\nimport script from \"./DetailPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailPopup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailPopup.vue?vue&type=style&index=0&id=6ea3b72d&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=3f6a777b&prod&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailPopup.vue?vue&type=style&index=0&id=6ea3b72d&prod&lang=scss&\"","import qs from 'qs';\nexport default\n{\n\tmethods:\n\t{\n\t\tasync saveElement(data)\n\t\t{\n\t\t\tlet result = await this.$store.dispatch('saveSelectedElement', data);\n\t\t\treturn result;\n\t\t},\n\t\tasync createElement(data)\n\t\t{\n\t\t\tlet primaryKeyCode = this.$store.getters.getPrimaryKeyCode(data.tableCode);\n\t\t\tlet setValues  = {};\n\t\t\tfor(let fieldCode in data.selectedElement)\n\t\t\t{\n\t\t\t\tif(primaryKeyCode == fieldCode) continue;\n\t\t\t\tsetValues[fieldCode] = data.selectedElement[fieldCode];\n\t\t\t}\n\n\t\t\tlet insertData = qs.stringify({\n\t\t\t\tinsert:\n\t\t\t\t{\n\t\t\t\t\ttable   :data.tableCode,\n\t\t\t\t\tvalues  :[setValues]\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet result = await this.$axios.post('/el/insert/',insertData);\n\t\t\treturn result;\n\t\t},\n\t\tasync removeElement(data)\n\t\t{\n\t\t\tlet primaryKeyCode = this.$store.getters.getPrimaryKeyCode(data.tableCode);\n\t\t\tlet result = await this.$store.dispatch('removeRecord', {\n\t\t\t\tdelete:\n\t\t\t\t{\n\t\t\t\t\ttable: data.tableCode,\n\t\t\t\t\twhere:\n\t\t\t\t\t{\n\t\t\t\t\t\toperation:'and',\n\t\t\t\t\t\tfields:[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcode      : primaryKeyCode,\n\t\t\t\t\t\t\t\toperation : 'IS',\n\t\t\t\t\t\t\t\tvalue     : data.selectedElement[primaryKeyCode],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t}\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"detail\"},[_c('ConfirmPopup',{attrs:{\"name\":\"confirmRemove\",\"buttons\":_vm.confirmDeleteButtons,\"message\":_vm.removeMessage},on:{\"confirm\":_vm.onConfirmRemove,\"cancel\":_vm.onCancelRemove}}),_c('div',{staticClass:\"detail-head\"},[_c('div',{staticClass:\"detail-head__burger\",class:{'hidden':_vm.isShowSidebar}},[_c('MobileBurger')],1),_c('div',{staticClass:\"detail-head-name\"},[_c('div',{staticClass:\"detail-icon-wrapper\"},[_c('svg',{attrs:{\"width\":\"14\",\"height\":\"13\"}},[_c('use',{attrs:{\"xlink:href\":\"#tableicon\"}})])]),(_vm.name != 'tableAddElement')?[_c('div',{staticClass:\"detail-name-wrapper\"},[_c('div',{staticClass:\"detail-head-label\"},[_vm._v(_vm._s(_vm.$t('pages.table.edit_element')))]),_c('div',{staticClass:\"detail-head-descr\"},[_vm._v(_vm._s(_vm.tableCode))])]),_c('div',{staticClass:\"detail-head__buttons\"},[_c('button',{staticClass:\"el-gbtn\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_c('button',{staticClass:\"el-gbtn\",on:{\"click\":_vm.confirmRemove}},[_vm._v(_vm._s(_vm.$t('remove')))]),_c('button',{staticClass:\"el-btn\",on:{\"click\":_vm.saveElement}},[_vm._v(_vm._s(_vm.$t('save')))])])]:[_c('div',{staticClass:\"detail-name-wrapper\"},[_c('div',{staticClass:\"detail-head-label\"},[_vm._v(_vm._s(_vm.$t('pages.table.new_element')))]),_c('div',{staticClass:\"detail-head-descr\"},[_vm._v(_vm._s(_vm.tableCode))])]),_c('div',{staticClass:\"detail-head__buttons\"},[_c('button',{staticClass:\"el-gbtn\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_c('button',{staticClass:\"el-btn\",on:{\"click\":_vm.createElement}},[_vm._v(_vm._s(_vm.$t('create')))])])]],2)]),_c('div',{staticClass:\"detail-feilds\"},_vm._l((_vm.selectedElement),function(column,columnCode){return _c('div',{key:`selItem${columnCode}`,staticClass:\"detail-feild\"},[_c('div',{staticClass:\"detail-field__name-wrap\"},[_c('img',{staticClass:\"detail-field__icon-image\",attrs:{\"src\":require(`@/assets${_vm.columnEmSettings(columnCode).type_info.iconPath}`)}}),_c('div',{staticClass:\"detail-field-name\"},[_c('span',[_vm._v(_vm._s(_vm.getColumnName(columnCode)))]),_c('small',[_vm._v(_vm._s(columnCode))])])]),_c('div',{staticClass:\"detail-field-box\"},[(_vm.columns[columnCode])?_c('MainField',{attrs:{\"mode\":\"edit\",\"view\":\"detail\",\"fieldName\":_vm.columns[columnCode].em.settings.code,\"params\":{\n\t\t\t\t\t\tvalue     : column,\n\t\t\t\t\t\tsettings  : _vm.$store.getters.getColumnSettings(_vm.tableCode, columnCode, _vm.selectedElement)\n\t\t\t\t\t}},on:{\"onChange\":_vm.changeFieldValue}}):_vm._e()],1)])}),0),_c('div',{staticClass:\"detail__buttons\"},[(_vm.name != 'tableAddElement')?[_c('button',{staticClass:\"el-gbtn\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_c('button',{staticClass:\"el-gbtn\",on:{\"click\":_vm.confirmRemove}},[_vm._v(_vm._s(_vm.$t('remove')))]),_c('button',{staticClass:\"el-btn\",on:{\"click\":_vm.saveElement}},[_vm._v(_vm._s(_vm.$t('save')))])]:[_c('button',{staticClass:\"el-gbtn\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_c('button',{staticClass:\"el-btn\",on:{\"click\":_vm.createElement}},[_vm._v(_vm._s(_vm.$t('create')))])]],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"detail\">\n\t\t<ConfirmPopup\n\t\t\tname=\"confirmRemove\"\n\t\t\t:buttons=\"confirmDeleteButtons\"\n\t\t\t:message=\"removeMessage\"\n\t\t\t@confirm=\"onConfirmRemove\"\n\t\t\t@cancel=\"onCancelRemove\"\n\t\t/>\n\t\t<div class=\"detail-head\">\n\t\t\t<div class=\"detail-head__burger\" :class=\"{'hidden':isShowSidebar}\"><MobileBurger/></div>\n\t\t\t<div class=\"detail-head-name\">\n\t\t\t\t<div class=\"detail-icon-wrapper\">\n\t\t\t\t\t<svg width=\"14\" height=\"13\">\n\t\t\t\t\t\t<use xlink:href=\"#tableicon\"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<template v-if=\"name != 'tableAddElement'\">\n\t\t\t\t\t<div class=\"detail-name-wrapper\">\n\t\t\t\t\t\t<div class=\"detail-head-label\">{{$t('pages.table.edit_element')}}</div>\n\t\t\t\t\t\t<div class=\"detail-head-descr\">{{ tableCode }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"detail-head__buttons\">\n\t\t\t\t\t\t<button @click=\"cancel\" class=\"el-gbtn\">{{$t('cancel')}}</button>\n\t\t\t\t\t\t<button @click=\"confirmRemove\" class=\"el-gbtn\">{{$t('remove')}}</button>\n\t\t\t\t\t\t<button @click=\"saveElement\" class=\"el-btn\">{{$t('save')}}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<div class=\"detail-name-wrapper\">\n\t\t\t\t\t\t<div class=\"detail-head-label\">{{$t('pages.table.new_element')}}</div>\n\t\t\t\t\t\t<div class=\"detail-head-descr\">{{ tableCode }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"detail-head__buttons\">\n\t\t\t\t\t\t<button @click=\"cancel\" class=\"el-gbtn\">{{$t('cancel')}}</button>\n\t\t\t\t\t\t<button @click=\"createElement\" class=\"el-btn\">{{$t('create')}}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"detail-feilds\">\n\t\t\t<div\n\t\t\t\tclass=\"detail-feild\"\n\t\t\t\tv-for=\"(column,columnCode) in selectedElement\"\n\t\t\t\t:key=\"`selItem${columnCode}`\"\n\t\t\t>\n\t\t\t\t<div class=\"detail-field__name-wrap\">\n\t\t\t\t\t<img class=\"detail-field__icon-image\" :src=\"require(`@/assets${columnEmSettings(columnCode).type_info.iconPath}`)\">\n\t\t\t\t\t<div class=\"detail-field-name\">\n\t\t\t\t\t\t<span>{{ getColumnName(columnCode) }}</span>\n\t\t\t\t\t\t<small>{{ columnCode }}</small>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"detail-field-box\">\n\t\t\t\t\t<MainField\n\t\t\t\t\t\tv-if=\"columns[columnCode]\"\n\t\t\t\t\t\tmode=\"edit\"\n\t\t\t\t\t\tview=\"detail\"\n\t\t\t\t\t\t:fieldName=\"columns[columnCode].em.settings.code\"\n\t\t\t\t\t\t:params=\"{\n\t\t\t\t\t\t\tvalue     : column,\n\t\t\t\t\t\t\tsettings  : $store.getters.getColumnSettings(tableCode, columnCode, selectedElement)\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t@onChange=\"changeFieldValue\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"detail__buttons\">\n\t\t\t<template v-if=\"name != 'tableAddElement'\">\n\t\t\t\t<button @click=\"cancel\" class=\"el-gbtn\">{{$t('cancel')}}</button>\n\t\t\t\t<button @click=\"confirmRemove\" class=\"el-gbtn\">{{$t('remove')}}</button>\n\t\t\t\t<button @click=\"saveElement\" class=\"el-btn\">{{$t('save')}}</button>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<button @click=\"cancel\" class=\"el-gbtn\">{{$t('cancel')}}</button>\n\t\t\t\t<button @click=\"createElement\" class=\"el-btn\">{{$t('create')}}</button>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>\n<script>\n\t// import ConfirmPopup from '@/components/popups/ConfirmPopup.vue';\n\timport MainField from '@/components/fields/MainField.vue';\n\timport qs from 'qs';\n\timport MobileBurger from '@/components/blocks/MobileBurger.vue';\n\timport { mapGetters } from 'vuex';\n\n\texport default\n\t{\n\t\tprops: ['tableCode', 'name', 'id', 'element', 'updatedElAt'],\n\t\tcomponents: {MainField, MobileBurger},\n\t\tcomputed:\n\t\t{\n\t\t\t...mapGetters([\n\t\t\t\t'isShowSidebar',\n\t\t\t]),\n\t\t},\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcolumns:{},\n\t\t\t\tselectedElement:{},\n\t\t\t\tfieldNames:{},\n\t\t\t\tremoveMessage: this.$t('popups.confirmDeletePopup.remove'),\n\t\t\t\tconfirmDeleteButtons: {\n\t\t\t\t\tconfirm: {\n\t\t\t\t\t\ttext: this.$t('popups.confirmDeletePopup.confirm_delete'),\n\t\t\t\t\t},\n\t\t\t\t\tcancel: {\n\t\t\t\t\t\ttext: this.$t('popups.confirmDeletePopup.cancel'),\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\twatch:\n\t\t{\n\t\t\tid(newId)\n\t\t\t{\n\t\t\t\tthis.selectedElement.id = newId;\n\t\t\t},\n\t\t\tupdatedElAt(val)\n\t\t\t{\n\t\t\t\tthis.selectElement();\n\t\t\t},\n\t\t},\n\t\tmounted()\n\t\t{\n\t\t\tthis.selectElement();\n\t\t\tthis.fieldNames = Object.assign(this.fieldNames, this.$store.getters.getTableFieldsNames(this.tableCode));\n\t\t},\n\t\tmethods:\n\t\t{\n\t\t\tasync selectElement()\n\t\t\t{\n\t\t\t\tlet requestParams = {\n\t\t\t\t\tselect : {},\n\t\t\t\t\twhere  : [],\n\t\t\t\t\torder  : [],\n\t\t\t\t};\n\t\t\t\trequestParams.select.from = this.tableCode;\n\t\t\t\tlet primaryKeyCode        = this.$store.getters.getPrimaryKeyCode(this.tableCode);\n\t\t\t\tthis.columns              = this.$store.getters.getColumns(this.tableCode);\n\t\t\t\tif(this.name != 'tableAddElement' && !this.element)\n\t\t\t\t{\n\t\t\t\t\trequestParams.select.where = {\n\t\t\t\t\t\toperation:'and',\n\t\t\t\t\t\tfields:[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcode      : primaryKeyCode,\n\t\t\t\t\t\t\t\toperation : 'IS',\n\t\t\t\t\t\t\t\tvalue     : this.id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t};\n\t\t\t\t\tawait this.$store.dispatch('selectElement',requestParams);\n\t\t\t\t\tthis.$set(this, 'selectedElement', this.$store.state.tables.selectedElement);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tfor(let columnCode in this.columns)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$set(this.selectedElement, columnCode,'');\n\t\t\t\t\t\tthis.$set(this.selectedElement, columnCode, '');\n\t\t\t\t\t\tif (this.element && typeof this.element[columnCode] != 'undefined')\n\t\t\t\t\t\t\tthis.$set(this.selectedElement, columnCode, this.element[columnCode]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * Триггер изменения значения филда\n\t\t\t * Переносим значение в наш стейт\n\t\t\t * @fieldValue {\n\t\t\t *     value,\n\t\t\t *     settings(основной формат)\n\t\t\t * }\n\t\t\t */\n\t\t\tchangeFieldValue(fieldValue)\n\t\t\t{\n\t\t\t\tthis.selectedElement[fieldValue.settings.fieldCode] = fieldValue.value;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Return em object of column\n\t\t\t */\n\t\t\tcolumnEmSettings(columnCode)\n\t\t\t{\n\t\t\t\tif(typeof this.columns[columnCode] != 'undefined')\n\t\t\t\t\treturn this.columns[columnCode].em;\n\t\t\t\tthrow new Error(`No column with code ${columnCode}`);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns column name or code\n\t\t\t */\n\t\t\tgetColumnName(columnCode)\n\t\t\t{\n\t\t\t\treturn this.columnEmSettings(columnCode).name || columnCode;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Сохранение элемента\n\t\t\t */\n\t\t\tsaveElement()\n\t\t\t{\n\t\t\t\tthis.$emit('saveElement', {\n\t\t\t\t\tselectedElement : this.selectedElement,\n\t\t\t\t\ttableCode       : this.tableCode,\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Создание элемента переход на страницу редактирования\n\t\t\t */\n\t\t\tcreateElement()\n\t\t\t{\n\t\t\t\tthis.$emit('createElement', {\n\t\t\t\t\tselectedElement : this.selectedElement,\n\t\t\t\t\ttableCode       : this.tableCode,\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Отмена редактирования\n\t\t\t */\n\t\t\tcancel()\n\t\t\t{\n\t\t\t\tthis.$emit('cancel');\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Удаление элемента\n\t\t\t */\n\n\t\t\tconfirmRemove()\n\t\t\t{\n\t\t\t\tthis.$modal.show('confirmRemove');\n\t\t\t},\n\n\t\t\tonConfirmRemove()\n\t\t\t{\n\t\t\t\tthis.remove();\n\t\t\t\tthis.$modal.hide('confirmRemove');\n\t\t\t},\n\n\t\t\tonCancelRemove()\n\t\t\t{\n\t\t\t\tthis.$modal.hide('confirmRemove');\n\t\t\t},\n\n\t\t\tremove()\n\t\t\t{\n\t\t\t\tthis.$emit('removeElement', {\n\t\t\t\t\tselectedElement : this.selectedElement,\n\t\t\t\t\ttableCode       : this.tableCode,\n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t};\n</script>\n<style lang=\"scss\">\n\t.detail\n\t{\n\t\tpadding: 23px 0 0px 21px;\n\t\theight: 100%;\n\t}\n\t.detail-head\n\t{\n\t\tdisplay: flex;\n\t\tmargin-bottom: 28px;\n\t\tpadding-right: 95px;\n\t\talign-items: center;\n\t}\n\t.detail-head-name\n\t{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\twidth:100%;\n\t}\n\t.detail-icon-wrapper\n\t{\n\t\tmargin-right: 3px;\n\t\tfont-weight: 500;\n\t\tline-height: normal;\n\t\tfont-size: 20px;\n\t\tcolor: #000000;\n\t}\n\t.detail-head-label\n\t{\n\t\tfont-family: $rBold;\n\t\tfont-size: 20px;\n\t\tcolor: #191C21;\n\t\tline-height: 22px;\n\t\ttext-transform: capitalize;\n\t}\n\t.detail-head-descr\n\t{\n\t\tcolor: rgba(103, 115, 135, 0.4);\n\t\tfont-size: 10px;\n\t\ttext-transform: lowercase;\n\t}\n\t.detail-name-wrapper{padding-left:7px; }\n\t.detail-feilds\n\t{\n\t\tborder-top: 1px solid rgba(103, 115, 135, 0.1);\n\t\toverflow: auto;\n\t\theight: calc(100vh - 85px);\n\t\tpadding-bottom: 150px;\n\t}\n\t.detail-feild\n\t{\n\t\tmin-height: 50px;\n\t\tdisplay: flex;\n\t\talign-items: flex-start;\n\t\tborder-bottom: 1px solid rgba(103, 115, 135, 0.1);\n\t}\n\t.detail-field__name-wrap\n\t{\n\t\tdisplay: flex;\n\t\tpadding-left: 21px;\n\t\theight: 50px;\n\t\talign-items: center;\n\t}\n\t.detail-field__icon-image{margin-right: 15px;width: 13px;}\n\t.detail-field-name\n\t{\n\t\twidth:140px;\n\t\tflex-shrink:0;\n\t\tspan\n\t\t{\n\t\t\tdisplay:block;\n\t\t\tfont-size: 12px;\n\t\t\tline-height: normal;\n\t\t\tcolor: #191C21;\n\t\t\ttext-transform: capitalize;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t\tsmall\n\t\t{\n\t\t\tdisplay:block;\n\t\t\tfont-size: 10px;\n\t\t\tline-height: normal;\n\t\t\tcolor: rgba(103, 115, 135, 0.4);\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t}\n\t.detail-field-box\n\t{\n\t\tposition: relative;\n\t\tmin-width: 400px;\n\t\tmin-height: 50px;\n\t\tborder-left: 1px solid rgba(103, 115, 135, 0.1);\n\t\tpadding-left: 14px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.em-string,\n\t\t.em-list,\n\t\t.em-node,\n\t\t.em-user,\n\t\t.em-file-item-col,\n\t\t.em-date-wr\n\t\t{\n\t\t\tmax-height: 40px;\n\t\t\tposition: relative;\n\t\t}\n\t\t.ql-editor\n\t\t{\n\t\t\tpadding: 0;\n\t\t}\n\t}\n\t.detail-head__buttons\n\t{\n\t\tflex-grow: 1;\n\t\ttext-align: right;\n\t\tbutton{\n\t\t\tmargin-left:10px;\n\t\t}\n\t}\n\t.detail__buttons { display: none; }\n\t.detail-head__burger\n\t{\n\t\tmargin-right: 20px;\n\t\t&.hidden{display: none;}\n\t}\n\t@media (max-width: 768px)\n\t{\n\t\t.detail { padding: 10px 0 0px 10px; }\n\t\t.detail-head\n\t\t{\n\t\t\tpadding-right: 14px;\n\t\t\tmin-width: 320px;\n\t\t}\n\t\t.detail-head-name { flex-wrap: wrap; }\n\t\t.detail-head__buttons { display: none; }\n\t\t.detail-name-wrapper { flex-basis: 90%; margin-bottom: 0; }\n\t\t.detail-icon-wrapper { flex-basis: 4%; margin-bottom: 0; }\n\t\t.detail-field-box { min-width: 150px; }\n\t\t.detail__buttons\n\t\t{\n\t\t\tposition: sticky;\n\t\t\tbottom: 0;\n\t\t\tbackground-color: #fff;\n\t\t\tdisplay: block;\n\t\t\tpadding: 10px 0;\n\t\t\tmargin-top: auto;\n\t\t\tbutton { margin-left: 10px; &:first-child { margin-left: 0; } }\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=3f6a777b&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=3f6a777b&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}