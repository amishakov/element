(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e560cc8"],{"18ee":function(t,e,s){},"1c2d":function(t,e,s){},"1ddc":function(t,e,s){"use strict";s("d546")},2234:function(t,e,s){"use strict";s("c96c")},"276e":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v(t._s(t.$t("fieldEmDate.settings.include_time")))]),s("div",{staticClass:"popup__field-input"},[s("Checkbox",{attrs:{checked:t.localSettings.includeTime},on:{"update:checked":function(e){return t.$set(t.localSettings,"includeTime",e)}}})],1)]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))]),s("button",{staticClass:"el-btn",on:{click:t.save}},[t._v(t._s(t.$t("save_settings")))])])])},i=[],a={props:["settings"],data:function(){return{localSettings:{includeTime:!1}}},mounted:function(){"undefined"!=typeof this.settings.includeTime&&(this.localSettings.includeTime="true"===this.settings.includeTime)},methods:{save:function(){this.$emit("save",this.localSettings)},cancel:function(){this.$emit("cancel")}}},r=a,o=s("2877"),l=Object(o["a"])(r,n,i,!1,null,null,null);e["default"]=l.exports},4175:function(t,e,s){},"47f5":function(t,e,s){var n={"./em_check/Settings.vue":"85b8","./em_date/Settings.vue":"276e","./em_file/Settings.vue":"dee1","./em_int/Settings.vue":"efd5","./em_list/Settings.vue":"bf74","./em_matrix/Settings.vue":"93a7","./em_node/Settings.vue":"8c2f"};function i(t){return Promise.resolve().then((function(){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}var i=n[t];return s(i)}))}i.keys=function(){return Object.keys(n)},i.id="47f5",t.exports=i},"4a38":function(t,e,s){"use strict";s("ea12")},"4c60":function(t,e,s){"use strict";s("18ee")},"60e3":function(t,e,s){},"66fe":function(t,e,s){"use strict";s("c28b")},"6a5f":function(t,e,s){"use strict";s("60e3")},"6a6d":function(t,e,s){},"85b8":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmCheck.settings.checked_status_in_db"))+"\n\t\t")]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedString,expression:"checkedString"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("fieldEmCheck.settings.enter_checked_string")},domProps:{value:t.checkedString},on:{input:function(e){e.target.composing||(t.checkedString=e.target.value)}}})])]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmCheck.settings.unchecked_status_in_db"))+"\n\t\t")]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.uncheckedString,expression:"uncheckedString"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("fieldEmCheck.settings.enter_unchecked_string")},domProps:{value:t.uncheckedString},on:{input:function(e){e.target.composing||(t.uncheckedString=e.target.value)}}})])]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),s("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save_settings")))])])])},i=[],a={props:["settings"],data:function(){return{checkedString:"1",uncheckedString:"0"}},methods:{cancel:function(){this.$emit("cancel")},save:function(){var t={checkedString:this.checkedString,uncheckedString:this.uncheckedString};this.$emit("save",t)}},mounted:function(){"undefined"!=typeof this.settings.checkedString&&(this.checkedString=this.settings.checkedString),"undefined"!=typeof this.settings.uncheckedString&&(this.uncheckedString=this.settings.uncheckedString)}},r=a,o=s("2877"),l=Object(o["a"])(r,n,i,!1,null,null,null);e["default"]=l.exports},"8c2f":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("Multiple")]),s("div",{staticClass:"popup__field-input"},[s("Checkbox",{attrs:{checked:t.localSettings.multiple},on:{"update:checked":function(e){return t.$set(t.localSettings,"multiple",e)}}})],1)]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("table"))+"\n\t\t\t"),t.errors.nodeTableCode?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeTableCode.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Select",{attrs:{defaultText:t.selectedTable}},t._l(t.tables,(function(e,n){return s("SelectOption",{key:n,nativeOn:{click:function(s){return t.selectTable(e)}}},[t._v(t._s(e.name))])})),1)],1)]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmNode.settings.node_field"))+"\n\t\t\t"),t.errors.nodeFieldCode?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeFieldCode.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Select",{attrs:{defaultText:t.selectedNodeField,disabled:!1===t.fields}},t._l(t.fields,(function(e,n){return t.fields?s("SelectOption",{key:n,nativeOn:{click:function(s){return t.selectNodeField(e)}}},[t._v(t._s(e.em.name?e.em.name:e.field))]):t._e()})),1)],1)]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmNode.settings.search_field"))+"\n\t\t\t"),t.errors.nodeSearchCode?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeSearchCode.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Select",{attrs:{defaultText:t.selectedSearchField,disabled:!1===t.fields}},t._l(t.fields,(function(e,n){return t.fields?s("SelectOption",{key:n,nativeOn:{click:function(s){return t.selectSearchField(e)}}},[t._v(t._s(e.em.name?e.em.name:e.field))]):t._e()})),1)],1)]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),s("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save_settings")))])])])},i=[],a=(s("7f7f"),{props:["settings"],data:function(){return{localSettings:{multiple:!1,nodeTableCode:!1,nodeFieldCode:!1,nodeSearchCode:!1},errors:{}}},computed:{tables:function(){return this.$store.state.tables.tables},fields:function(){return this.$store.getters.getColumns(this.localSettings.nodeTableCode)},selectedTable:function(){var t=!1;return!1!==this.localSettings.nodeTableCode&&(t=this.$store.getters.getTable(this.localSettings.nodeTableCode)),!1===t?this.$t("fieldEmNode.settings.select_table"):t.name},selectedNodeField:function(){var t=!1;return!1!==this.localSettings.nodeFieldCode&&(t=this.$store.getters.getColumn(this.localSettings.nodeTableCode,this.localSettings.nodeFieldCode)),!1===t?this.$t("fieldEmNode.settings.select_field"):t.em.name?t.em.name:t.field},selectedSearchField:function(){var t=!1;return!1!==this.localSettings.nodeSearchCode&&(t=this.$store.getters.getColumn(this.localSettings.nodeTableCode,this.localSettings.nodeSearchCode)),!1===t?this.$t("fieldEmNode.settings.select_field"):t.em.name?t.em.name:t.field}},methods:{cancel:function(){this.$emit("cancel")},save:function(){var t=!1;for(var e in this.localSettings)0==this.localSettings[e]&&"multiple"!=e&&(this.$set(this.errors,e,{message:"Field is required"}),t=!0);t||this.$emit("save",this.localSettings)},selectTable:function(t){this.localSettings.nodeTableCode!=t.code&&(this.localSettings.nodeTableCode=t.code,this.localSettings.nodeFieldCode=!1,this.localSettings.nodeSearchCode=!1,this.$delete(this.errors,"nodeTableCode"))},selectNodeField:function(t){this.localSettings.nodeFieldCode=t.field,this.$delete(this.errors,"nodeFieldCode")},selectSearchField:function(t){this.localSettings.nodeSearchCode=t.field,this.$delete(this.errors,"nodeSearchCode")}},mounted:function(){for(var t in this.localSettings)"undefined"!=typeof this.settings[t]&&("false"===this.settings[t]||"true"===this.settings[t]?this.$set(this.localSettings,t,"true"===this.settings[t]):this.$set(this.localSettings,t,this.settings[t]))}}),r=a,o=s("2877"),l=Object(o["a"])(r,n,i,!1,null,null,null);e["default"]=l.exports},"8d16":function(t,e,s){},"93a7":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmMatrix.settings.many_to_many"))+"\n\t\t\t"),t.errors.isManyToMany?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.isManyToMany.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Checkbox",{attrs:{checked:t.localSettings.isManyToMany},on:{"update:checked":function(e){return t.$set(t.localSettings,"isManyToMany",e)}}})],1)]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmMatrix.settings.key_field"))+"\n\t\t\t"),t.errors.localField?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.localField.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Select",{attrs:{defaultText:t.selectedLocalField}},t._l(t.currentTable.columns,(function(e,n){return s("SelectOption",{key:n,nativeOn:{click:function(s){return t.selectField(e,"local")}}},[t._v(t._s(e.em.name?e.em.name:e.field))])})),1)],1)]),t.localSettings.isManyToMany?[s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t\t"+t._s(t.$t("fieldEmMatrix.settings.node_table"))+"\n\t\t\t\t"),t.errors.nodeTableCode?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeTableCode.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Select",{attrs:{defaultText:t.selectedNodeTable}},t._l(t.tables,(function(e,n){return s("SelectOption",{key:n,nativeOn:{click:function(s){return t.selectTable(e,"nodeTable")}}},[t._v(t._s(e.name))])})),1)],1)]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t\t"+t._s(t.$t("fieldEmMatrix.settings.key_field"))+" "),s("span",{staticClass:"em-matrix--lowercase"},[t._v("("+t._s(t.$t("fieldEmMatrix.settings.node_table"))+")")]),t.errors.nodeTableField?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeTableField.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Select",{attrs:{defaultText:t.selectedNodeTableField,disabled:!1===t.nodeTableFields}},t._l(t.nodeTableFields,(function(e,n){return t.nodeTableFields?s("SelectOption",{key:n,nativeOn:{click:function(s){return t.selectField(e,"nodeTable")}}},[t._v(t._s(e.em.name?e.em.name:e.field))]):t._e()})),1)],1)]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t\t"+t._s(t.$t("fieldEmMatrix.settings.key_field"))+" "),s("span",{staticClass:"em-matrix--lowercase"},[t._v("("+t._s(t.$t("fieldEmMatrix.settings.node_table"))+" - "+t._s(t.$t("table"))+")")]),t.errors.nodeTableFinalTableField?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeTableFinalTableField.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Select",{attrs:{defaultText:t.selectedNodeTableFinalTableField,disabled:!1===t.nodeTableFields}},t._l(t.nodeTableFields,(function(e,n){return t.nodeTableFields?s("SelectOption",{key:n,nativeOn:{click:function(s){return t.selectField(e,"nodeTableFinalTable")}}},[t._v(t._s(e.em.name?e.em.name:e.field))]):t._e()})),1)],1)])]:t._e(),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("table"))+"\n\t\t\t"),t.errors.finalTableCode?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.finalTableCode.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Select",{attrs:{defaultText:t.selectedTable}},t._l(t.tables,(function(e,n){return s("SelectOption",{key:n,nativeOn:{click:function(s){return t.selectTable(e,"finalTable")}}},[t._v(t._s(e.name))])})),1)],1)]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmMatrix.settings.select_field"))+"\n\t\t\t"),t.errors.finalTableField?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.finalTableField.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Select",{attrs:{defaultText:t.selectedFinalTableField,disabled:!1===t.finalTableFields}},t._l(t.finalTableFields,(function(e,n){return t.finalTableFields?s("SelectOption",{key:n,nativeOn:{click:function(s){return t.selectField(e,"finalTable")}}},[t._v(t._s(e.em.name?e.em.name:e.field))]):t._e()})),1)],1)]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),s("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save_settings")))])])],2)},i=[],a=(s("3b2b"),s("7f7f"),{props:["settings","currentTable"],data:function(){return{localSettings:{isManyToMany:!1,localField:!1,nodeTableCode:!1,nodeTableField:!1,nodeTableFinalTableField:!1,finalTableCode:!1,finalTableField:!1},errors:{}}},computed:{tables:function(){return this.$store.state.tables.tables},finalTableFields:function(){return this.$store.getters.getColumns(this.localSettings.finalTableCode)},nodeTableFields:function(){return this.$store.getters.getColumns(this.localSettings.nodeTableCode)},selectedTable:function(){var t=!1;return!1!==this.localSettings.finalTableCode&&(t=this.$store.getters.getTable(this.localSettings.finalTableCode)),!1===t?this.$t("fieldEmMatrix.settings.select_table"):t.name},selectedNodeTable:function(){var t=!1;return!1!==this.localSettings.nodeTableCode&&(t=this.$store.getters.getTable(this.localSettings.nodeTableCode)),!1===t?this.$t("fieldEmMatrix.settings.select_table"):t.name},selectedLocalField:function(){var t=!1;return!1!==this.localSettings.localField&&(t=this.$store.getters.getColumn(this.currentTable.code,this.localSettings.localField)),!1===t?this.$t("fieldEmMatrix.settings.select_field"):t.em.name?t.em.name:t.field},selectedNodeTableField:function(){var t=!1;return!1!==this.localSettings.nodeTableField&&(t=this.$store.getters.getColumn(this.localSettings.nodeTableCode,this.localSettings.nodeTableField)),!1===t?this.$t("fieldEmMatrix.settings.select_field"):t.em.name?t.em.name:t.field},selectedNodeTableFinalTableField:function(){var t=!1;return!1!==this.localSettings.nodeTableFinalTableField&&(t=this.$store.getters.getColumn(this.localSettings.nodeTableCode,this.localSettings.nodeTableFinalTableField)),!1===t?this.$t("fieldEmMatrix.settings.select_field"):t.em.name?t.em.name:t.field},selectedFinalTableField:function(){var t=!1;return!1!==this.localSettings.finalTableField&&(t=this.$store.getters.getColumn(this.localSettings.finalTableCode,this.localSettings.finalTableField)),!1===t?this.$t("fieldEmMatrix.settings.select_field"):t.em.name?t.em.name:t.field}},methods:{cancel:function(){this.$emit("cancel")},validate:function(){var t=!1,e=new RegExp("nodeTableCode|nodeTableField|nodeTableFinalTableField");for(var s in this.localSettings)"isManyToMany"===s||!this.localSettings.isManyToMany&&e.test(s)||!1!==this.localSettings[s]||(t=!0,this.$set(this.errors,s,{message:"Field is required"}));return!t},save:function(){this.validate()&&this.$emit("save",this.localSettings)},selectTable:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"finalTable";"undefined"!==typeof this.localSettings[e+"Code"]&&this.localSettings[e+"Code"]!==t.code&&(this.localSettings[e+"Code"]=t.code,"nodeTable"===e&&(this.localSettings.nodeTableFinalTableField=!1),this.localSettings[e+"Field"]=!1,this.$delete(this.errors,e+"Code"))},selectField:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";this.localSettings[e+"Field"]=t.field,this.$delete(this.errors,e+"Field")}},mounted:function(){for(var t in this.localSettings)"undefined"!=typeof this.settings[t]&&("false"===this.settings[t]?this.$set(this.localSettings,t,!1):this.$set(this.localSettings,t,this.settings[t]));this.localSettings.isManyToMany="true"===this.localSettings.isManyToMany}}),r=a,o=(s("de6b"),s("2877")),l=Object(o["a"])(r,n,i,!1,null,null,null);e["default"]=l.exports},"9bbf":function(t,e,s){},ac84:function(t,e,s){"use strict";s("4175")},be3c:function(t,e,s){var n={"./em_check/Settings.vue":"85b8","./em_date/Settings.vue":"276e","./em_file/Settings.vue":"dee1","./em_int/Settings.vue":"efd5","./em_list/Settings.vue":"bf74","./em_matrix/Settings.vue":"93a7","./em_node/Settings.vue":"8c2f"};function i(t){var e=a(t);return s(e)}function a(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id="be3c"},bf74:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"em-list-settings"},[s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("Multiple")]),s("div",{staticClass:"popup__field-input"},[s("Checkbox",{attrs:{checked:t.localSettings.multiple},on:{"update:checked":function(e){return t.$set(t.localSettings,"multiple",e)}}})],1)]),t._m(0),s("div",{staticClass:"em-list-settings__line"},[s("div",{staticClass:"em-list-settings__key-block"},[t._v(t._s(t.$t("fieldEmList.settings.key")))]),s("div",{staticClass:"em-list-settings__key-block"},[t._v(t._s(t.$t("fieldEmList.settings.value")))])]),t._l(t.localSettings.list,(function(e,n){return s("div",{key:n,staticClass:"em-list-settings__line"},[s("div",{staticClass:"em-list-settings__key-block"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"listItem.key"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("fieldEmList.settings.enter_key")},domProps:{value:e.key},on:{input:function(s){s.target.composing||t.$set(e,"key",s.target.value)}}})]),s("div",{staticClass:"em-list-settings__value-block"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"listItem.value"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("fieldEmList.settings.enter_value")},domProps:{value:e.value},on:{input:function(s){s.target.composing||t.$set(e,"value",s.target.value)}}})]),s("div",{staticClass:"em-list-settings__remove-block"},[s("div",{staticClass:"em-list-settings__remove-item",on:{click:function(e){return e.stopPropagation(),t.removeValue(n)}}},[s("svg",{attrs:{width:"12",height:"12"}},[s("use",{attrs:{"xlink:href":"#plus-white"}})])])])])})),s("div",{staticClass:"em-list-settings__add-line"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.addValues()}}},[t._v(t._s(t.$t("fieldEmList.settings.add_option")))])]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),s("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save_settings")))])])],2)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("Options List")])])}],a={props:["settings"],data:function(){return{localSettings:{list:[{key:"",value:""}],multiple:!1}}},methods:{removeValue:function(t){this.localSettings.list.splice(t,1)},addValues:function(){this.localSettings.list.push({key:"",value:""})},cancel:function(){this.$emit("cancel")},save:function(){var t={list:this.localSettings.list,multiple:this.localSettings.multiple};this.$emit("save",t)}},mounted:function(){for(var t in this.localSettings)"undefined"!=typeof this.settings[t]&&("false"===this.settings[t]||"true"===this.settings[t]?this.$set(this.localSettings,t,"true"===this.settings[t]):this.$set(this.localSettings,t,this.settings[t]))}},r=a,o=(s("d1c6"),s("2877")),l=Object(o["a"])(r,n,i,!1,null,null,null);e["default"]=l.exports},c28b:function(t,e,s){},c48c:function(t,e,s){},c52c:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-wrapper"},[s("div",{staticClass:"settings-head"},[s("div",{staticClass:"settings-head__burger"},[s("MobileBurger")],1),s("div",{staticClass:"settings-head-name"},[s("div",{staticClass:"settings-icon-wrapper"},[t._v("\n\t\t\t\t⚙️\n\t\t\t")]),s("div",{staticClass:"settings-name-wrapper"},[s("div",{staticClass:"settings-head-label"},[t._v(t._s(t.$t("settings")))]),s("div",{staticClass:"settings-head-descr"},[t._v(t._s(t.$t("pages.settings.user_and_table_settings")))])])])]),s("div",{staticClass:"settings-tab-wrapper"},[s("div",{staticClass:"settings-tabs-head"},t._l(t.tabs,(function(e){return e.noAdminRights||t.$store.state.users.authUser.is_admin?s("div",{staticClass:"settings-tab-item",class:{active:e.active},on:{click:function(s){return t.setActiveTab(e)}}},[t._v(t._s(e.name))]):t._e()})),0),s("div",{staticClass:"settings-tabs-content-wrapper"},[t.activeTab==t.$t("tables")&&t.$store.state.users.authUser.is_admin?s("div",{staticClass:"settings-tab-content"},[s("SettingsTable")],1):t._e(),t.activeTab==t.$t("users")&&t.$store.state.users.authUser.is_admin?s("div",{staticClass:"settings-tab-content"},[s("SettingsUser")],1):t._e(),t.activeTab==t.$t("languages")?s("div",{staticClass:"settings-tab-content"},[s("SettingsLang")],1):t._e(),t.activeTab==t.$t("groups")&&t.$store.state.users.authUser.is_admin?s("div",{staticClass:"settings-tab-content"},[s("SettingsGroups")],1):t._e(),"API&Tokens"==t.activeTab&&t.$store.state.users.authUser.is_admin?s("div",{staticClass:"settings-tab-content"},[s("SettingsApi")],1):t._e()])])])},i=[],a=(s("ac4d"),s("8a81"),s("5df3"),s("1c4c"),s("6b54"),s("7f7f"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-table-wrapper"},[t.tables.length?t._e():s("div",{staticClass:"settings-empty-tables"},[t._v("\n\t\t"+t._s(t.$t("settingsTable.no_tables"))+"\n\t")]),t.tables.length?s("div",{staticClass:"settings-table-head"},[s("div",{staticClass:"settings-table-row-data"},[s("div",{staticClass:"settings-table-item"},[s("div",{staticClass:"settings-table-item-title"},[t._v(t._s(t.$t("code")))])]),s("div",{staticClass:"settings-table-item"},[s("div",{staticClass:"settings-table-item-title"},[t._v(t._s(t.$t("name")))])]),s("div",{staticClass:"settings-table-item"},[s("div",{staticClass:"settings-table-item-title"},[t._v(t._s(t.$t("show")))])]),s("div",{staticClass:"settings-table-item"})]),t._l(t.tables,(function(e){return s("div",{staticClass:"settings-table-row"},[s("div",{staticClass:"settings-table-row-data"},[s("div",{staticClass:"settings-table-item",on:{click:function(s){return t.toggleSettingsRow(e)}}},[s("svg",{staticClass:"settings-table-item-img",class:{active:"visible"==e.showSettings.overflow||"auto"==e.showSettings.overflow},attrs:{width:"7",height:"13"}},[s("use",{attrs:{"xlink:href":"#arrow"}})]),s("div",{staticClass:"settings-table-item-code"},[t._v(t._s(e.code))])]),s("div",{staticClass:"settings-table-item"},[s("div",{staticClass:"settings-table-item-name"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"table.name"}],attrs:{type:"text",placeholder:t.$t("set_something")+t.$t("name")},domProps:{value:e.name},on:{change:function(s){return t.saveTableSettings(e)},input:function(s){s.target.composing||t.$set(e,"name",s.target.value)}}})])]),s("div",{staticClass:"settings-table-item"},[s("div",{staticClass:"settings-table-item-flag"},[s("Checkbox",{attrs:{checked:e.visible},on:{"update:checked":function(s){return t.$set(e,"visible",s)},change:function(s){return t.saveTableSettings(e)}}})],1)]),s("div",{staticClass:"settings-table-item centered"},[s("button",{staticClass:"settings-table__open-settings",on:{click:function(s){return t.showTableGroups(e)}}},[t._v(t._s(t.$t("groups")))]),e.code!=t.showTableGroupsCode||t.showPopupAddGroup?t._e():s("TableGroups",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideTableGroups,expression:"hideTableGroups"}],attrs:{access:e.access,table:e.code},on:{showTableGroupsAdding:t.showTableGroupsAdding,disableTableAccess:t.disableTableAccess}})],1)]),s("div",{staticClass:"settings-table-row-setting",style:e.showSettings,attrs:{id:"settings-table-row"}},t._l(e.columns,(function(n){return s("div",{staticClass:"settings-table-row-setting-item active"},[s("div",{staticClass:"settings-table-item"},[t._v(" "+t._s(n.field)+" ")]),s("div",{staticClass:"settings-table-item category-font"},[s("input",{directives:[{name:"model",rawName:"v-model",value:n.em.name,expression:"column.em.name"}],staticClass:"settings-table-input-name",attrs:{type:"text",placeholder:t.$t("set_something")+t.$t("name")},domProps:{value:n.em.name},on:{change:function(s){return t.changeColumnName(e.code,n)},input:function(e){e.target.composing||t.$set(n.em,"name",e.target.value)}}})]),s("div",{staticClass:"settings-table-item centered"},[s("Select",{attrs:{defaultText:n.em.type_info.name}},t._l(t.fieldTypes,(function(i){return s("SelectOption",{key:i.code,nativeOn:{click:function(s){return t.changeType({table:e.code,column:n.field,fieldType:i})}}},[t._v(t._s(i.name))])})),1)],1),s("div",{staticClass:"settings-table-item"},[t.checkSettingComponent(e,n)?s("button",{staticClass:"settings-table__open-settings",on:{click:function(s){return t.openSettingsPopup(e,n)}}},[t._v(t._s(t.$t("settings")))]):t._e()])])})),0)])}))],2):t._e(),s("Popup",{attrs:{visible:t.settingsPopup},on:{"update:visible":function(e){t.settingsPopup=e}}},[s("div",{staticClass:"popup__name"},[t._v(t._s(t.$t("settings_of",{of_what:t.settingsColumn&&t.settingsColumn.field||""})))]),s(t.settingsComponent,{tag:"component",attrs:{settings:t.currentSettings,currentTable:t.settingsTable},on:{save:t.saveSettings,cancel:function(e){t.settingsPopup=!1}}})],1),s("StoreSelect",{attrs:{disableIf:"is_admin",visible:t.showPopupAddGroup,settings:{searchStr:"$store.state.groups.groups"}},on:{selectItem:t.addGroupToTable,"update:visible":function(e){t.showPopupAddGroup=e}}})],1)}),r=[],o=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),l=s("bd86"),c=s("4328"),u=s.n(c),d=s("d230"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table-groups"},[t._l(t.tableGroups,(function(e){return e?s("div",{staticClass:"table-groups__line"},[s("div",{staticClass:"table-groups__name"},[s("span",[t._v(t._s(e.name))]),s("em",[t._v(t._s(t.$t("members",{count:e.members.length})))])]),s("div",{staticClass:"table-groups__select"},[s("Select",{attrs:{defaultText:e.access_str,disabled:e.is_admin}},t._l(t.accessOptions,(function(n,i){return s("SelectOption",{key:i,nativeOn:{click:function(s){return t.setGroupAccess(e.id,n.strValue)}}},[t._v(t._s(n.title))])})),1)],1)]):t._e()})),s("div",{staticClass:"table-groups__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.$emit("disableTableAccess",t.table)}}},[t._v(t._s(t.$t("disableAccess")))]),s("button",{staticClass:"el-btn",on:{click:function(e){return t.$emit("showTableGroupsAdding")}}},[t._v(t._s(t.$t("addGroup")))])])],2)},f=[],g=(s("7514"),s("2f62"));function m(t,e){var s="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=h(t))||e&&t&&"number"===typeof t.length){s&&(t=s);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==s.return||s.return()}finally{if(o)throw a}}}}function h(t,e){if(t){if("string"===typeof t)return v(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function _(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_(Object(s),!0).forEach((function(e){Object(l["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var C={props:["access","table"],data:function(){return{tableGroups:[]}},computed:b({},Object(g["c"])({groups:function(t){return t.groups.groups},accessOptions:function(t){return t.groups.accessOptions}})),mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAccessOptions();case 2:return t.next=4,this.initTableGroups();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getAccessOptions:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.accessOptions&&this.accessOptions.length){t.next=3;break}return t.next=3,this.$store.dispatch("getAccessOptions");case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setGroupAccess:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("setGroupAccess",{groupId:e,accessStr:s,tableName:this.table});case 2:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),initTableGroups:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,n,i,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.groups&&this.groups.length){t.next=3;break}return t.next=3,this.$store.dispatch("getGroups");case 3:e=[],s=m(this.groups);try{for(s.s();!(n=s.n()).done;){i=n.value,a=m(this.access);try{for(a.s();!(r=a.n()).done;)o=r.value,+o.group_id===+i.id&&e.push(b(b({},i),{},{access:+o.access,access_str:this.getAccessStr(+o.access),id:+i.id}))}catch(l){a.e(l)}finally{a.f()}}}catch(l){s.e(l)}finally{s.f()}this.$set(this,"tableGroups",e);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getAccessStr:function(t){var e=this.accessOptions.find((function(e){return e.value===t}));return e?e.title:"unsetted"}}},w=C,S=(s("ac84"),s("2877")),y=Object(S["a"])(w,p,f,!1,null,null,null),$=y.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Popup",{staticClass:"select-popup__add",attrs:{visible:t.isPopupVisible},on:{"update:visible":function(e){t.isPopupVisible=e}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"select-popup__add-search",attrs:{type:"text",placeholder:t.$t("search")+"..."},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),t._l(t.items,(function(e){return s("div",{staticClass:"select-popup__item-line",on:{click:function(s){return t.selectItem(e)}}},[e.avatar?s("img",{attrs:{src:e.avatar,alt:""}}):t._e(),t._v("\n\t\t"+t._s(e.name)+"\n\t")])}))],2)},T=[];s("28a5");function x(t,e){var s="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=O(t))||e&&t&&"number"===typeof t.length){s&&(t=s);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==s.return||s.return()}finally{if(o)throw a}}}}function O(t,e){if(t){if("string"===typeof t)return P(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?P(t,e):void 0}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}var j,F={props:["visible","settings","disableIf","disableIfNot"],data:function(){return{searchText:""}},computed:{isPopupVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}},searched:function(){if(this.settings.searchArr)return this.settings.searchArr;var t,e=this,s=x(this.settings.searchStr.split("."));try{for(s.s();!(t=s.n()).done;){var n=t.value;e=e[n]}}catch(i){s.e(i)}finally{s.f()}return e},items:function(){var t=this,e=0;return this.searched.filter((function(s){if(e>10||"undefined"==typeof s.name||t.disableIf&&s[t.disableIf]||t.disableIfNot&&!s[t.disableIfNot])return!1;var n=t.searchText.toLowerCase(),i=s.name.toLowerCase(),a=-1!==i.indexOf(n);return!!a&&(e++,!0)}))}},methods:{selectItem:function(t){this.$emit("selectItem",t),this.$emit("update:visible",!1)}}},A=F,E=(s("4a38"),Object(S["a"])(A,k,T,!1,null,null,null)),R=E.exports;function M(t,e){var s="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=G(t))||e&&t&&"number"===typeof t.length){s&&(t=s);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==s.return||s.return()}finally{if(o)throw a}}}}function G(t,e){if(t){if("string"===typeof t)return N(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?N(t,e):void 0}}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function I(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function U(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?I(Object(s),!0).forEach((function(e){Object(l["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):I(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var D={mixins:[d["a"]],components:{TableGroups:$,StoreSelect:R},data:function(){return{fieldTypes:{},tables:[],tableStyle:{height:"0px",overflow:"hidden"},settingsPopup:!1,settingsFielType:"",currentSettings:null,settingsTable:null,settingsColumn:null,showTableGroupsCode:!1,showPopupAddGroup:!1}},computed:U(U({},Object(g["c"])((j={storeTables:function(t){return t.tables.tables}},Object(l["a"])(j,"storeTables",(function(t){return t.tables.tables})),Object(l["a"])(j,"getColumns",(function(t){return t.tables.tableColumns})),Object(l["a"])(j,"accessOptions",(function(t){return t.groups.accessOptions})),j))),{},{settingsComponent:function(){var t=this;return!!this.settingsColumn&&(!!this.settingsFielType&&function(){return s("47f5")("./".concat(t.settingsFielType,"/Settings.vue"))})}}),mounted:function(){this.initTables()},methods:{checkSettingComponent:function(t,e){try{s("be3c")("./".concat(e.em.settings.code,"/Settings.vue"))}catch(n){return!1}return!0},openSettingsPopup:function(t,e){this.$set(this,"settingsTable",t),this.$set(this,"settingsColumn",e),this.$set(this,"settingsFielType",e.em.type_info.code),this.$set(this,"currentSettings",e.em.settings),this.$set(this,"settingsPopup",!0)},saveSettings:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s,n,i,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={tableName:this.settingsTable.code,columnName:this.settingsColumn&&this.settingsColumn.field||"",fieldType:this.settingsFielType,settings:e},s=u.a.stringify(s),t.next=4,this.$axios.post("/settings/setFieldSettings/",s);case 4:if(n=t.sent,!n.data.success){t.next=26;break}this.settingsPopup=!1,i=M(this.tables),t.prev=8,i.s();case 10:if((a=i.n()).done){t.next=17;break}if(r=a.value,r.code==this.settingsTable.code){t.next=14;break}return t.abrupt("continue",15);case 14:for(o in r.columns)o==(this.settingsColumn&&this.settingsColumn.field)&&(r.columns[o].em.settings=n.data.settings);case 15:t.next=10;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](8),i.e(t.t0);case 22:return t.prev=22,i.f(),t.finish(22);case 25:this.ElMessage(this.$t("elMessages.settings_saved"));case 26:case"end":return t.stop()}}),t,this,[[8,19,22,25]])})));function e(e){return t.apply(this,arguments)}return e}(),getFieldSettings:function(t,e){return this.$store.getters.getColumnSettings(t.code,e.field)},changeType:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=u.a.stringify({tableName:e.table,columnName:e.column,fieldType:e.fieldType.code}),t.next=3,this.$axios({method:"post",url:"/settings/changeFieldType/",data:s});case 3:if(n=t.sent,n.data.success){t.next=6;break}return t.abrupt("return",!1);case 6:i=this.getTableByCode(e.table,this.tables),this.$set(i.columns[e.column],"em",n.data.settings);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),toggleSettingsRow:function(t){if("visible"==t.showSettings.overflow)return t.showSettings.overflow="hidden",t.showSettings.height="0",!1;var e=0;for(var s in t.columns)e+=49;t.showSettings.height=e+"px",t.showSettings.overflow="auto",setTimeout((function(){t.showSettings.overflow="visible"}),300)},setRowSetting:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showSettings=!e.showSettings;case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),changeColumnName:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,n){var i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=s("4328"),a=i.stringify({tableName:e,field:n.field,name:n.em.name,type:n.em.type_info.code}),t.next=3,this.$axios({method:"POST",url:"/settings/changeName/",data:a});case 3:if(r=t.sent,r.data.success){t.next=6;break}return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),saveTableSettings:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s,n,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=!1,n=M(e.tviews);try{for(n.s();!(i=n.n()).done;)a=i.value,"1"===a.default&&(s=a)}catch(o){n.e(o)}finally{n.f()}return r=u.a.stringify({tviewId:s.id,params:{table:{visible:e.visible,name:e.name}}}),t.next=6,this.$axios({method:"POST",data:r,url:"/el/setTviewSettings/"});case 6:t.sent;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),initTables:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getTables");case 2:return t.next=4,this.$axios.get("/settings/getFiledTypes/");case 4:e=t.sent,e.data.success&&this.$set(this,"fieldTypes",e.data.types),this.$set(this,"tables",this.storeTables||[]),s=M(this.tables);try{for(s.s();!(n=s.n()).done;)i=n.value,this.$set(i,"showSettings",Object.assign({},this.tableStyle))}catch(a){s.e(a)}finally{s.f()}this.$store.commit("showLoader",!1);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showTableGroups:function(t){this.showTableGroupsCode=t.code},hideTableGroups:function(){this.showTableGroupsCode=!1},showTableGroupsAdding:function(){this.showPopupAddGroup=!0},addGroupToTable:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=this.showTableGroupsCode,this.showTableGroupsCode=!1,t.next=4,this.$store.dispatch("setGroupAccess",{groupId:e.id,accessStr:this.accessOptions[0].strValue,tableName:s});case 4:return t.next=6,this.initTables();case 6:this.showTableGroupsCode=s;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),disableTableAccess:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post("/groups/disableGroupsAccess/",u.a.stringify({tableName:e}));case 2:if(s=t.sent,s.data.success){t.next=6;break}return this.ElMessage.error(s.data.message),t.abrupt("return");case 6:return t.next=8,this.initTables();case 8:this.ElMessage(this.$t("elMessages.settings_saved")),this.showTableGroupsCode=!1;case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},L=D,V=(s("f2f6"),Object(S["a"])(L,a,r,!1,null,null,null)),q=V.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-users-wrapper"},[s("div",{staticClass:"settings-users-head"},[s("div",{staticClass:"settings-users-row-data"},[s("div",{staticClass:"settings-users-item"},[s("div",{staticClass:"settings-users-item-title"},[t._v(t._s(t.$t("login")))])]),s("div",{staticClass:"settings-users-item"},[s("div",{staticClass:"settings-users-item-title"},[t._v(t._s(t.$t("name")))])]),s("div",{staticClass:"settings-users-item"})]),t._l(t.$store.state.settings.users,(function(e){return s("div",{staticClass:"settings-users-row"},[s("div",{staticClass:"settings-users-row-data"},[s("div",{staticClass:"settings-users-item"},[s("svg",{staticClass:"settings-users-item-img",class:{active:e.isShow},attrs:{width:"7",height:"13"},on:{click:function(s){return t.setRowSetting(e)}}},[s("use",{attrs:{"xlink:href":"#arrow"}})]),s("div",{staticClass:"settings-users-item-code"},[t._v(t._s(e.login))])]),s("div",{staticClass:"settings-users-item"},[t._v(t._s(e.name))]),s("div",{staticClass:"settings-users-item"},[s("a",{staticClass:"settings-users__remove-user",attrs:{href:"#"},on:{click:function(s){return t.removeUser(e)}}},[t._v(t._s(t.$t("remove")))])])]),s("div",{staticClass:"settings-users-row-setting"},[s("div",{staticClass:"settings-users-row-setting-item",class:{active:e.isShow}},[s("div",{staticClass:"settings-users-item"},[t._v("\n\t\t\t\t\t\tid\n\t\t\t\t\t")]),s("div",{staticClass:"settings-users-item"},[t._v("\n\t\t\t\t\t\t"+t._s(e.id)+"\n\t\t\t\t\t")])]),s("div",{staticClass:"settings-users-row-setting-item",class:{active:e.isShow}},[s("div",{staticClass:"settings-users-item"},[t._v(" "+t._s(t.$t("name"))+" ")]),s("div",{staticClass:"settings-users-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"user.name"}],staticClass:"settings-users-input",attrs:{type:"text",placeholder:t.$t("set_something")+t.$t("name")},domProps:{value:e.name},on:{change:function(s){return t.updateUser(e)},input:function(s){s.target.composing||t.$set(e,"name",s.target.value)}}})])]),s("div",{staticClass:"settings-users-row-setting-item",class:{active:e.isShow}},[s("div",{staticClass:"settings-users-item"},[t._v(" "+t._s(t.$t("login"))+" ")]),s("div",{staticClass:"settings-users-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.login,expression:"user.login"}],staticClass:"settings-users-input",attrs:{type:"text",placeholder:t.$t("set_something")+t.$t("login")},domProps:{value:e.login},on:{change:function(s){return t.updateUser(e)},input:function(s){s.target.composing||t.$set(e,"login",s.target.value)}}})])]),s("div",{staticClass:"settings-users-row-setting-item",class:{active:e.isShow}},[s("div",{staticClass:"settings-users-item"},[t._v(" Email ")]),s("div",{staticClass:"settings-users-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"user.email"}],staticClass:"settings-users-input",attrs:{type:"text",placeholder:t.$t("set_something")+"Email"},domProps:{value:e.email},on:{change:function(s){return t.updateUser(e)},input:function(s){s.target.composing||t.$set(e,"email",s.target.value)}}})])]),s("div",{staticClass:"settings-users-row-setting-item",class:{active:e.isShow}},[s("div",{staticClass:"settings-users-item"},[t._v(" "+t._s(t.$t("password"))+" ")]),s("div",{staticClass:"settings-users-item settings-users__password-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"user.newPassword"}],staticClass:"settings-users-input",attrs:{type:"password",placeholder:t.$t("set_something")+t.$t("password")},domProps:{value:e.newPassword},on:{input:function(s){s.target.composing||t.$set(e,"newPassword",s.target.value)}}}),""!=e.newPassword?s("button",{staticClass:"settings-users-btn",on:{click:function(s){return t.updatePassword(e)}}},[t._v("change")]):t._e()])])])])}))],2),s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.openAddUser()}}},[t._v(t._s(t.$t("add_user")))]),s("Popup",{attrs:{visible:t.addPopupVisible},on:{"update:visible":function(e){t.addPopupVisible=e}}},[s("AddUser",{on:{cancel:function(e){t.addPopupVisible=!1}}})],1)],1)},J=[],H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"popup__name"},[t._v(t._s(t.$t("add_user")))]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("name"))+"\n\t\t\t"),t.errors.name?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.name))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("enter_something")+t.$t("name")},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("login"))+"\n\t\t\t"),t.errors.login?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.login))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("enter_something")+t.$t("login")},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}})])]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tEmail\n\t\t\t"),t.errors.email?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.email))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("enter_something")+"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("password"))+"\n\t\t\t"),t.errors.password?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.password))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("enter_something")+t.$t("password")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),s("button",{staticClass:"el-btn",on:{click:function(e){return t.addUser()}}},[t._v(t._s(t.$t("add")))])])])},z=[],K={data:function(){return{name:"",login:"",email:"",password:"",errors:{name:!1,login:!1,email:!1,password:!1}}},methods:{validate:function(){for(var t=["name","login","email","password"],e=!0,s=0,n=t;s<n.length;s++){var i=n[s];""==this[i]?(this.errors[i]=this.$t("addUser.this_field_required"),e=!1):this.errors[i]=!1}return e},addUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validate()){t.next=2;break}return t.abrupt("return",!1);case 2:return e={name:this.name,login:this.login,email:this.email,password:this.password,language:this.$store.state.users.authUser.language},s=u.a.stringify(e),e.isShow=!1,e.newPassword="",t.next=8,this.$axios.post("/users/addUser/",s);case 8:if(n=t.sent,!n.data.success){t.next=15;break}e.id=n.data.id,this.$store.commit("addUser",e),this.cancel(),t.next=16;break;case 15:return t.abrupt("return",this.ElMessage.error(n.data.message));case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$emit("cancel")}}},Q=K,W=Object(S["a"])(Q,H,z,!1,null,null,null),X=W.exports,Y={components:{AddUser:X},data:function(){return{users:[],addPopupVisible:!1}},methods:{setRowSetting:function(t){t.isShow=!t.isShow},updateUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={},s.id=e.id,s.login=e.login,s.name=e.name,s.email=e.email,s=u.a.stringify(s),t.next=8,this.$axios.post("/users/updateUser/",s);case 8:n=t.sent,n.data.success&&this.ElMessage(this.$t("elMessages.user_saved"));case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),updatePassword:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={},s.id=e.id,s.password=e.newPassword,s=u.a.stringify(s),t.next=6,this.$axios.post("/users/updateUser/",s);case 6:n=t.sent,n.data.success&&(this.ElMessage(this.$t("elMessages.password_saved")),e.newPassword="");case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),openAddUser:function(){this.addPopupVisible=!0},removeUser:function(t){this.$store.dispatch("removeUser",t)}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("getUsers");case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Z=Y,tt=(s("6a5f"),Object(S["a"])(Z,B,J,!1,null,null,null)),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-lang-wr"},[s("div",{staticClass:"settings-lang"},[s("div",{staticClass:"settings-lang__label"},[t._v("\n\t\t\t"+t._s(t.$t("settingsLang.select_language"))+"\n\t\t")]),s("div",{staticClass:"settings-lang-list"},[s("List",{scopedSlots:t._u([{key:"selected",fn:function(){return[s("ListOption",{attrs:{current:!0}},[t._v(t._s(t.$store.getters.langStr))])]},proxy:!0}])},t._l(t.$store.getters.langList,(function(e,n){return s("ListOption",{key:n,on:{select:function(e){return t.changeLang(n)}}},[t._v(t._s(e))])})),1)],1)])])},nt=[],it={methods:{changeLang:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=JSON.parse(this.$cookie.get("user")),s.language=e,this.$cookie.set("user",JSON.stringify(s),12),t.next=5,this.$store.dispatch("setLanguage",{language:e,id:this.$store.state.users.authUser.id});case 5:this.$store.commit("setLanguage",e);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},mounted:function(){this.$store.state.users.authUser.is_admin||this.$store.commit("showLoader",!1)}},at=it,rt=(s("dfa4"),Object(S["a"])(at,st,nt,!1,null,null,null)),ot=rt.exports,lt=s("25bd"),ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-groups__wrapper"},[s("div",{staticClass:"settings-groups__head"},[s("button",{staticClass:"el-btn",on:{click:t.addGroup}},[t._v(t._s(t.$t("createGroup")))])]),s("div",{staticClass:"settings-groups__content"},[s("ul",{staticClass:"settings-groups__groups-content"},t._l(t.$store.state.groups.groups,(function(e,n){return s("li",{staticClass:"settings-groups__group-wrapper"},[s("div",{staticClass:"settings-groups__group-head"},[s("div",{staticClass:"settings-groups__group-info"},[s("div",{staticClass:"settings-groups__group-name",class:{disabled:"Administrators"==e.name},attrs:{contenteditable:"true"},on:{blur:function(s){return t.changeGroupName(s,e)}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t")]),s("div",{staticClass:"settings-groups__member-info"},[t._v(t._s(t.$t("members",{count:e.members.length})))])]),"Administrators"!=e.name?s("button",{staticClass:"settings-groups__remove-btn",on:{click:function(s){return t.removeGroup(e)}}},[t._v(t._s(t.$t("remove")))]):t._e()]),s("ul",{staticClass:"settings-groups__members"},[t._l(e.members,(function(n,i){return s("li",{staticClass:"settings-groups__member"},[s("div",{staticClass:"settings-groups__member-name-wrapper"},[s("img",{staticClass:"settings-groups__avatar",attrs:{src:n.avatar,alt:""}}),s("div",{staticClass:"settings-groups__member-name"},[t._v(t._s(n.name))])]),s("button",{staticClass:"settings-groups__remove-btn",on:{click:function(s){return t.removeMemberFromGroup(e.id,n.id)}}},[t._v(t._s(t.$t("remove")))])])})),s("li",{staticClass:"settings-groups__add-member-wrapper"},[s("div",{staticClass:"settings-groups__icon"}),s("button",{staticClass:"settings-groups__add-member-btn",on:{click:function(s){return t.showAddMemberPopup(e.id)}}},[t._v(t._s(t.$t("addMember")))])])],2)])})),0)]),s("StoreSelect",{attrs:{visible:t.showPopupAddMember,settings:{searchStr:"$store.state.settings.users"}},on:{selectItem:t.selectUser,"update:visible":function(e){t.showPopupAddMember=e}}})],1)},ut=[],dt={components:{StoreSelect:R},data:function(){return{showPopupAddMember:!1,addGroupId:!1}},methods:{removeGroup:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("removeGroup",e.id);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),removeMemberFromGroup:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("removeGroupUser",{userId:s,groupId:e});case 2:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),addGroup:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("addGroup");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showAddMemberPopup:function(t){this.addGroupId=t,this.showPopupAddMember=!0},selectUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("addUser",{user:e,groupId:this.addGroupId});case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getGroups:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getGroups");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeGroupName:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("setGroupName",{id:s.id,name:e.target.innerText});case 2:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}()},mounted:function(){this.getGroups(),this.$store.dispatch("getUsers")}},pt=dt,ft=(s("1ddc"),Object(S["a"])(pt,ct,ut,!1,null,null,null)),gt=ft.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"el-api"},[s("div",{staticClass:"el-api-tokens"},[s("h2",{staticClass:"el-api__title el-api-tokens__title"},[t._v("Tokens")]),t._l(t.tokens,(function(e,n){return s("div",{staticClass:"el-api-token"},[s("div",{staticClass:"el-api-token__info"},[s("div",{staticClass:"el-api-token-value"},[t._v(t._s(e.value))]),s("div",{staticClass:"el-api-token-date"},[t._v("Generated "+t._s(e.date))])]),s("div",{staticClass:"el-api-token__actions"},[t.groups&&t.groups.length?s("Select",{staticClass:"select--simple",attrs:{defaultText:e.group_name}},t._l(t.groups,(function(n){return s("SelectOption",{key:n.code,nativeOn:{click:function(s){return t.changeTokenGroup(e.id,n.id)}}},[t._v(t._s(n.name)+"\n\t\t\t\t")])})),1):t._e(),s("div",{staticClass:"el-api-token-remove",on:{click:function(s){return t.removeToken(e.id)}}},[t._v(t._s(t.$t("remove")))])],1)])})),s("div",{staticClass:"el-api-tokens-add",on:{click:t.createToken}},[s("span",{staticClass:"el-api-tokens-add__icon"},[s("svg",{attrs:{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("line",{attrs:{x1:"0.5",y1:"4.5",x2:"8.5",y2:"4.5",stroke:"#677387","stroke-opacity":"0.4","stroke-linecap":"round"}}),s("line",{attrs:{x1:"4.5",y1:"8.5",x2:"4.5",y2:"0.5",stroke:"#C2C7CF","stroke-linecap":"round"}})])]),t._v("\n\t\t\tGenerate Token\n\t\t")])],2),s("div",{staticClass:"el-api-docs"},[s("div",{staticClass:"el-api-docs__head"},[s("h2",{staticClass:"el-api__title el-api__title--no-border"},[t._v("API Docs")]),s("Select",{staticClass:"select--simple",attrs:{defaultText:t.selectedTable.code}},t._l(t.tables,(function(e){return s("SelectOption",{key:e.code,nativeOn:{click:function(s){return t.selectTableForApi(e)}}},[t._v(t._s(e.code))])})),1)],1),t._l(t.docs,(function(e,n){return s("div",{staticClass:"el-api-doc"},[s("div",{staticClass:"el-api-doc-header"},[s("div",{staticClass:"el-api-doc__title"},[t._v(t._s(n))]),s("div",{staticClass:"el-api-doc-tabs"},[s("div",{staticClass:"el-api-doc-tab",class:{active:"code"===e.tab},on:{click:function(e){return t.changeDocBlockTab(n,"code")}}},[t._v("Code")]),s("div",{staticClass:"el-api-doc-tab",class:{active:"response"===e.tab},on:{click:function(e){return t.changeDocBlockTab(n,"response")}}},[t._v("Response")])])]),s("div",{staticClass:"el-api-code"},[s("div",{staticClass:"el-api-code-copy",on:{click:function(s){return t.copyText(e[e.tab])}}},[t._v("copy")]),e.tab&&e[e.tab]?s("div",{directives:[{name:"highlight",rawName:"v-highlight"}]},[s("pre",[s("code",{staticClass:"bash"},[t._v(t._s(e[e.tab]))])])]):t._e()])])}))],2)])},ht=[],vt=s("768b");s("ffc1");function _t(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function bt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(s),!0).forEach((function(e){Object(l["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_t(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var Ct={data:function(){return{docs:{get:{tab:"code"},insert:{tab:"code"},delete:{tab:"code"},update:{tab:"code"}},selectedTable:{}}},computed:bt({},Object(g["c"])({tables:function(t){return t.tables.tables},groups:function(t){return t.groups.groups},tokens:function(t){return t.groups.tokens},apiDocs:function(t){return t.groups.apiDocs}})),methods:{changeTokenGroup:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("changeToken",{tokenId:e,groupId:s});case 2:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),removeToken:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("removeToken",{tokenId:e});case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),createToken:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("createToken",{groupId:this.groups[0].id});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeDocBlockTab:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.docs[e]){t.next=2;break}return t.abrupt("return");case 2:return this.docs[e].tab="",t.next=5,setTimeout((function(){}),1);case 5:this.docs[e].tab=s;case 6:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),selectTableForApi:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.selectedTable=e,t.next=3,this.setApiDocs();case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setApiDocs:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getApiDocs",{table_name:this.selectedTable.code});case 2:for(e=0,s=Object.entries(this.apiDocs);e<s.length;e++)n=Object(vt["a"])(s[e],2),i=n[0],a=n[1],this.docs[i]=bt(bt({},this.docs[i]),a),this.changeDocBlockTab(i,this.docs[i].tab);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),copyText:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.selectTableForApi(this.tables[0]),this.groups.length){t.next=4;break}return t.next=4,this.$store.dispatch("getGroups");case 4:if(this.tokens.length){t.next=7;break}return t.next=7,this.$store.dispatch("getTokens");case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},wt=Ct,St=(s("4c60"),Object(S["a"])(wt,mt,ht,!1,null,null,null)),yt=St.exports;function $t(t,e){var s="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=kt(t))||e&&t&&"number"===typeof t.length){s&&(t=s);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==s.return||s.return()}finally{if(o)throw a}}}}function kt(t,e){if(t){if("string"===typeof t)return Tt(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Tt(t,e):void 0}}function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}var xt={components:{SettingsTable:q,SettingsUser:et,SettingsLang:ot,MobileBurger:lt["a"],SettingsGroups:gt,SettingsApi:yt},metaInfo:{title:"Settings"},data:function(){return{tabs:[{name:this.$t("tables"),active:!0},{name:this.$t("users"),active:!1},{name:this.$t("languages"),active:!1,noAdminRights:!0},{name:this.$t("groups"),active:!1},{name:"API&Tokens",active:!1}],activeTab:this.$t("tables")}},methods:{setActiveTab:function(t){this.clearAllTabsActive(),t.active=!0,this.activeTab=t.name},clearAllTabsActive:function(){var t,e=$t(this.tabs);try{for(e.s();!(t=e.n()).done;){var s=t.value;s.active=!1}}catch(n){e.e(n)}finally{e.f()}}},watch:{"$store.getters.lang":function(){this.tabs[0].name=this.$t("tables"),this.tabs[1].name=this.$t("users"),this.tabs[2].name=this.$t("languages"),this.setActiveTab(this.tabs[this.tabs.length-1])}},mounted:function(){this.$store.commit("showLoader",!0),this.$store.state.users.authUser.is_admin||this.setActiveTab(this.tabs[2])}},Ot=xt,Pt=(s("2234"),Object(S["a"])(Ot,n,i,!1,null,null,null));e["default"]=Pt.exports},c96c:function(t,e,s){},d1c6:function(t,e,s){"use strict";s("c48c")},d230:function(t,e,s){"use strict";s("ac4d"),s("8a81"),s("5df3"),s("1c4c"),s("7f7f"),s("6b54");function n(t,e){var s="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=i(t))||e&&t&&"number"===typeof t.length){s&&(t=s);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,l=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return o=t.done,t},e:function(t){l=!0,r=t},f:function(){try{o||null==s.return||s.return()}finally{if(l)throw r}}}}function i(t,e){if(t){if("string"===typeof t)return a(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}e["a"]={methods:{getTableByCode:function(t,e){var s,i=n(e);try{for(i.s();!(s=i.n()).done;){var a=s.value;if(a.code==t)return a}}catch(r){i.e(r)}finally{i.f()}}}}},d546:function(t,e,s){},de6b:function(t,e,s){"use strict";s("9bbf")},dee1:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmFile.settings.folder_for_save"))+"\n\t\t\t"),t.errors.savePath?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.savePath.message))]):t._e()]),s("div",{staticClass:"popup__field-input em-file__settings-path"},[s("span",[t._v(t._s(t.settings.rootPath))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.localSettings.savePath,expression:"localSettings.savePath"}],attrs:{type:"text",placeholder:t.$t("fieldEmFile.settings.folder_for_save")},domProps:{value:t.localSettings.savePath},on:{change:t.checkPath,input:function(e){e.target.composing||t.$set(t.localSettings,"savePath",e.target.value)}}})])]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\t"+t._s(t.$t("fieldEmFile.settings.resolutions"))+"\n\t\t\t"),t.errors.nodeFieldCode?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeFieldCode.message))]):t._e()])]),s("div",{staticClass:"em-file__s-resolutions"},[s("div",{staticClass:"em-file__s-resolution"},[s("div",{staticClass:"em-file__s-code"},[t._v(t._s(t.$t("code")))]),s("div",{staticClass:"em-file__s-width"},[t._v(t._s(t.$t("fieldEmFile.settings.width")))]),s("div",{staticClass:"em-file__s-height"},[t._v(t._s(t.$t("fieldEmFile.settings.height")))]),s("div",{staticClass:"em-file__s-remove"})]),t._l(t.localSettings.resolutions,(function(e,n){return s("div",{key:n,staticClass:"em-file__s-resolution"},[s("div",{staticClass:"em-file__s-code"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"listItem.code"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:t.$t("code"),disabled:e.required},domProps:{value:e.code},on:{input:function(s){s.target.composing||t.$set(e,"code",s.target.value)}}})]),s("div",{staticClass:"em-file__s-width"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.width,expression:"listItem.width",modifiers:{number:!0}}],staticClass:"el-inp-noborder",attrs:{type:"number",placeholder:t.$t("fieldEmFile.settings.width")},domProps:{value:e.width},on:{input:function(s){s.target.composing||t.$set(e,"width",t._n(s.target.value))},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"em-file__s-height"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.height,expression:"listItem.height",modifiers:{number:!0}}],staticClass:"el-inp-noborder",attrs:{type:"number",placeholder:t.$t("fieldEmFile.settings.height")},domProps:{value:e.height},on:{input:function(s){s.target.composing||t.$set(e,"height",t._n(s.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e.required?t._e():s("div",{staticClass:"em-file__s-remove"},[s("div",{staticClass:"em-file__s-remove-button",on:{click:function(e){return e.stopPropagation(),t.removeResolution(n)}}},[s("svg",{attrs:{width:"12",height:"12"}},[s("use",{attrs:{"xlink:href":"#plus-white"}})])])]),t.errors.resolutions&&t.errors.resolutions[n]?s("small",{staticClass:"em-file__s-error"},[t._v(t._s(t.errors.resolutions[n].message))]):t._e()])}))],2),s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.addResolution()}}},[t._v(t._s(t.$t("fieldEmFile.settings.add_resolution")))]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("cancel")))]),s("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("save_settings")))])])])},i=[],a=(s("96cf"),s("3b8d")),r={props:["settings"],data:function(){return{localSettings:{savePath:"element/public/upload/",resolutions:[{code:"small",width:50,height:50,required:1}]},newResolution:{code:"",width:0,height:0},errors:{},errorPath:!1}},methods:{cancel:function(){this.$emit("cancel")},save:function(){this.validate()&&this.$emit("save",this.localSettings)},validate:function(){var t=!1;for(var e in this.localSettings)0!=this.localSettings[e]&&""!=this.localSettings[e]||(this.$set(this.errors,e,{message:"Field is required"}),t=!0);!1!==this.errorPath&&(this.$set(this.errors,"savePath",{message:this.errorPath}),t=!0);var s=[];for(var e in this.localSettings.resolutions){var n=this.localSettings.resolutions[e];""!=n.code&&(n.width>0||n.height>0)||(""==n.code?s[e]={message:"Code can't be empty"}:this.checkCodeUnique(n.code,e)?s[e]={message:"Height or width must be filled"}:s[e]={message:"Code must be unique"})}return 0==s.length||(t=!0,this.$set(this.errors,"resolutions",s)),!t},checkCodeUnique:function(t,e){for(var s in this.localSettings.resolutions)if(s!=e&&this.localSettings.resolutions[s].code==t)return!1;return!0},checkPath:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.localSettings.savePath){t.next=2;break}return t.abrupt("return");case 2:return e=s("4328"),n=e.stringify({path:this.localSettings.savePath}),t.next=5,this.$axios({method:"POST",url:"/field/em_file/index/checkPath/",data:n});case 5:if(i=t.sent,1!=i.data.success){t.next=9;break}return this.errorPath=!1,t.abrupt("return");case 9:this.errorPath=i.data.message;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),removeResolution:function(t){this.$delete(this.localSettings.resolutions,t),this.errors={}},addResolution:function(){this.localSettings.resolutions.push(Object.assign({},this.newResolution))}},mounted:function(){for(var t in this.localSettings)"undefined"!=typeof this.settings[t]&&this.$set(this.localSettings,t,this.settings[t])}},o=r,l=(s("66fe"),s("2877")),c=Object(l["a"])(o,n,i,!1,null,null,null);e["default"]=c.exports},dfa4:function(t,e,s){"use strict";s("6a6d")},e6a5:function(t,e,s){"use strict";s("8d16")},ea12:function(t,e,s){},efd5:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v(t._s(t.$t("min")))]),s("div",{staticClass:"popup__field-input"},[s("div",{staticClass:"em-int__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.localSettings.min.value,expression:"localSettings.min.value"}],staticClass:"el-inp",attrs:{type:"number",disabled:!t.localSettings.min.enabled},domProps:{value:t.localSettings.min.value},on:{input:function(e){e.target.composing||t.$set(t.localSettings.min,"value",e.target.value)}}}),s("Checkbox",{attrs:{checked:t.localSettings.min.enabled},on:{"update:checked":function(e){return t.$set(t.localSettings.min,"enabled",e)}}})],1)])]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v(t._s(t.$t("max")))]),s("div",{staticClass:"popup__field-input"},[s("div",{staticClass:"em-int__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.localSettings.max.value,expression:"localSettings.max.value"}],staticClass:"el-inp",attrs:{type:"number",disabled:!t.localSettings.max.enabled},domProps:{value:t.localSettings.max.value},on:{input:function(e){e.target.composing||t.$set(t.localSettings.max,"value",e.target.value)}}}),s("Checkbox",{attrs:{checked:t.localSettings.max.enabled},on:{"update:checked":function(e){return t.$set(t.localSettings.max,"enabled",e)}}})],1)])]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))]),s("button",{staticClass:"el-btn",on:{click:t.save}},[t._v(t._s(t.$t("save_settings")))])])])},i=[],a={props:["settings"],data:function(){return{localSettings:{min:{value:0,enabled:!1},max:{value:0,enabled:!1}}}},mounted:function(){for(var t=["min","max"],e=0,s=t;e<s.length;e++){var n=s[e];"undefined"!=typeof this.settings[n]&&(this.localSettings[n].value=+this.settings[n].value||0,this.localSettings[n].enabled=!!+this.settings[n].enabled)}},methods:{validate:function(){return!this.localSettings.min.enabled||!this.localSettings.max.enabled||this.localSettings.min.value<=this.localSettings.max.value},save:function(){if(this.validate())return this.$emit("save",{max:{enabled:+this.localSettings.max.enabled,value:this.localSettings.max.value},min:{enabled:+this.localSettings.min.enabled,value:this.localSettings.min.value}});this.ElMessage.error(this.$t("fieldEmInteger.settings.min_max"))},cancel:function(){this.$emit("cancel")}}},r=a,o=(s("e6a5"),s("2877")),l=Object(o["a"])(r,n,i,!1,null,null,null);e["default"]=l.exports},f2f6:function(t,e,s){"use strict";s("1c2d")}}]);
//# sourceMappingURL=chunk-7e560cc8.5cfac09c.js.map