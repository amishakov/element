(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e4ffe8e"],{"0765":function(t,e,s){},"15af":function(t,e,s){},1834:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{on:{click:t.select}},[t._t("default")],2)},n=[],a={name:"SelectOption",methods:{select:function(t){var e=t.target;this.$parent.setContent(e.innerHTML),this.$parent.toggleDropdown()}}},r=a,o=s("2877"),l=Object(o["a"])(r,i,n,!1,null,null,null);e["a"]=l.exports},"1ed7":function(t,e,s){"use strict";var i=s("6a34"),n=s.n(i);n.a},2234:function(t,e,s){"use strict";var i=s("0765"),n=s.n(i);n.a},"47f5":function(t,e,s){var i={"./em_check/Settings.vue":["85b8"],"./em_file/Settings.vue":["dee1"],"./em_list/Settings.vue":["bf74"],"./em_node/Settings.vue":["8c2f"]};function n(t){var e=i[t];return e?Promise.all(e.slice(1).map(s.e)).then(function(){var t=e[0];return s(t)}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return Object.keys(i)},n.id="47f5",t.exports=n},"66fe":function(t,e,s){"use strict";var i=s("6b68"),n=s.n(i);n.a},"6a34":function(t,e,s){},"6a5f":function(t,e,s){"use strict";var i=s("80e6"),n=s.n(i);n.a},"6b68":function(t,e,s){},"7b8d":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"select"},[s("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropdown,expression:"closeDropdown"}],staticClass:"select__trigger",class:{active:t.active,disabled:t.disabled},on:{click:t.toggleDropdown}},[s("div",{staticClass:"select__content",domProps:{innerHTML:t._s(t.content)}}),s("span",{staticClass:"select__arrow"},[s("svg",{attrs:{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M9.26399 0.171389L9.26396 0.171427L5.00466 4.43907L0.736982 0.171389C0.580928 0.0153346 0.327417 0.0153346 0.171362 0.171389C0.0153076 0.327444 0.0153076 0.580955 0.171362 0.737009L4.71346 5.27911C4.79126 5.3569 4.88943 5.39615 4.99628 5.39615C5.09399 5.39615 5.20081 5.35738 5.27909 5.27911L9.82063 0.737571C9.98584 0.581446 9.98569 0.327466 9.82962 0.171389C9.67356 0.0153346 9.42005 0.0153346 9.26399 0.171389Z",fill:"#677387",stroke:"#677387","stroke-width":"0.1"}})])])]),s("transition",{attrs:{name:"fade"}},[t.active?s("ul",{staticClass:"select__dropdown"},[t._t("default")],2):t._e()])],1)},n=[],a={props:{defaultText:String,disabled:{tupe:Boolean,default:!1}},data:function(){return{active:!1,value:"",content:!1}},mounted:function(){this.content=this.defaultText},methods:{toggleDropdown:function(){this.active=!this.active},closeDropdown:function(){this.active=!1},setContent:function(t){this.content=t}},watch:{defaultText:function(t){this.setContent(t)}}},r=a,o=(s("1ed7"),s("2877")),l=Object(o["a"])(r,i,n,!1,null,null,null);e["a"]=l.exports},"7f97":function(t,e,s){"use strict";var i=s("8663"),n=s.n(i);n.a},"80e6":function(t,e,s){},"85b8":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tRequired\n\t\t")]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.required,expression:"required"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:"Enter email"},domProps:{value:t.required},on:{input:function(e){e.target.composing||(t.required=e.target.value)}}})])]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tChecked status in DB\n\t\t")]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedString,expression:"checkedString"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:"Enter checked string"},domProps:{value:t.checkedString},on:{input:function(e){e.target.composing||(t.checkedString=e.target.value)}}})])]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tUnchecked status in DB\n\t\t")]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.uncheckedString,expression:"uncheckedString"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:"Enter unchecked string"},domProps:{value:t.uncheckedString},on:{input:function(e){e.target.composing||(t.uncheckedString=e.target.value)}}})])]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v("Cancel")]),s("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v("Save settigns")])])])},n=[],a={props:["settings","isRequired"],data:function(){return{required:!1,checkedString:"1",uncheckedString:"0"}},methods:{cancel:function(){this.$emit("cancel")},save:function(){var t={required:this.required,checkedString:this.checkedString,uncheckedString:this.uncheckedString};this.$emit("save",t)}},mounted:function(){"undefined"!=typeof this.settings.checkedString&&(this.checkedString=this.settings.checkedString),"undefined"!=typeof this.settings.uncheckedString&&(this.uncheckedString=this.settings.uncheckedString)}},r=a,o=s("2877"),l=Object(o["a"])(r,i,n,!1,null,null,null);e["default"]=l.exports},8663:function(t,e,s){},"8c2f":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tTable\n\t\t\t"),t.errors.nodeTableCode?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeTableCode.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Select",{attrs:{defaultText:t.selectedTable}},t._l(t.tables,function(e,i){return s("SelectOption",{key:i,nativeOn:{click:function(s){return t.selectTable(e)}}},[t._v(t._s(e.name))])}),1)],1)]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tNode field\n\t\t\t"),t.errors.nodeFieldCode?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeFieldCode.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Select",{attrs:{defaultText:t.selectedNodeField,disabled:!1===t.fields}},t._l(t.fields,function(e,i){return t.fields?s("SelectOption",{key:i,nativeOn:{click:function(s){return t.selectNodeField(e)}}},[t._v(t._s(e.em.name?e.em.name:e.field))]):t._e()}),1)],1)]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tSearch field\n\t\t\t"),t.errors.nodeSearchCode?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeSearchCode.message))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("Select",{attrs:{defaultText:t.selectedSearchField,disabled:!1===t.fields}},t._l(t.fields,function(e,i){return t.fields?s("SelectOption",{key:i,nativeOn:{click:function(s){return t.selectSearchField(e)}}},[t._v(t._s(e.em.name?e.em.name:e.field))]):t._e()}),1)],1)]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v("Cancel")]),s("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v("Save settigns")])])])},n=[],a=(s("7f7f"),s("7b8d")),r=s("1834"),o={props:["settings"],components:{Select:a["a"],SelectOption:r["a"]},data:function(){return{localSettings:{nodeTableCode:!1,nodeFieldCode:!1,nodeSearchCode:!1},errors:{}}},computed:{tables:function(){return this.$store.state.tables.tables},fields:function(){return this.$store.getters.getColumns(this.localSettings.nodeTableCode)},selectedTable:function(){var t=!1;return!1!==this.localSettings.nodeTableCode&&(t=this.$store.getters.getTable(this.localSettings.nodeTableCode)),!1===t?"Select table":t.name},selectedNodeField:function(){var t=!1;return!1!==this.localSettings.nodeFieldCode&&(t=this.$store.getters.getColumn(this.localSettings.nodeTableCode,this.localSettings.nodeFieldCode)),!1===t?"Select field":t.em.name?t.em.name:t.field},selectedSearchField:function(){var t=!1;return!1!==this.localSettings.nodeSearchCode&&(t=this.$store.getters.getColumn(this.localSettings.nodeTableCode,this.localSettings.nodeSearchCode)),!1===t?"Select field":t.em.name?t.em.name:t.field}},methods:{cancel:function(){this.$emit("cancel")},save:function(){var t=!1;for(var e in this.localSettings)0==this.localSettings[e]&&(this.$set(this.errors,e,{message:"Field is required"}),t=!0);t||this.$emit("save",this.localSettings)},selectTable:function(t){this.localSettings.nodeTableCode!=t.code&&(this.localSettings.nodeTableCode=t.code,this.localSettings.nodeFieldCode=!1,this.localSettings.nodeSearchCode=!1,this.$delete(this.errors,"nodeTableCode"))},selectNodeField:function(t){this.localSettings.nodeFieldCode=t.field,this.$delete(this.errors,"nodeFieldCode")},selectSearchField:function(t){this.localSettings.nodeSearchCode=t.field,this.$delete(this.errors,"nodeSearchCode")}},mounted:function(){for(var t in this.localSettings)"undefined"!=typeof this.settings[t]&&this.$set(this.localSettings,t,this.settings[t])}},l=o,c=s("2877"),u=Object(c["a"])(l,i,n,!1,null,null,null);e["default"]=u.exports},"9a8c":function(t,e,s){},be3c:function(t,e,s){var i={"./em_check/Settings.vue":"85b8","./em_file/Settings.vue":"dee1","./em_list/Settings.vue":"bf74","./em_node/Settings.vue":"8c2f"};function n(t){var e=a(t);return s(e)}function a(t){var e=i[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}n.keys=function(){return Object.keys(i)},n.resolve=a,t.exports=n,n.id="be3c"},bf74:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"em-list"},[t._m(0),t._l(t.localSettings.list,function(e,i){return s("div",{key:i,staticClass:"em-list__line"},[s("div",{staticClass:"em-list__key-block"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"listItem.key"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:"Enter key"},domProps:{value:e.key},on:{input:function(s){s.target.composing||t.$set(e,"key",s.target.value)}}})]),s("div",{staticClass:"em-list__value-block"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"listItem.value"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:"Enter value"},domProps:{value:e.value},on:{input:function(s){s.target.composing||t.$set(e,"value",s.target.value)}}})]),s("div",{staticClass:"em-list__remove-block"},[s("div",{staticClass:"em-list__remove-item",on:{click:function(e){return e.stopPropagation(),t.removeValue(i)}}},[s("svg",{attrs:{width:"12",height:"12"}},[s("use",{attrs:{"xlink:href":"#plus-white"}})])])])])}),s("div",{staticClass:"em-list__add-line"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.addValues()}}},[t._v("Add option")])]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v("Cancel")]),s("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v("Save settigns")])])],2)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"em-list__line"},[s("div",{staticClass:"em-list__key-block"},[t._v("Key")]),s("div",{staticClass:"em-list__key-block"},[t._v("Value")])])}],a={props:["settings"],data:function(){return{localSettings:{list:[{key:"",value:""}]}}},methods:{removeValue:function(t){this.localSettings.list.splice(t,1)},addValues:function(){this.localSettings.list.push({key:"",value:""})},cancel:function(){this.$emit("cancel")},save:function(){var t={list:this.localSettings.list};this.$emit("save",t)}},mounted:function(){for(var t in this.localSettings)"undefined"!=typeof this.settings[t]&&this.$set(this.localSettings,t,this.settings[t])}},r=a,o=(s("d1c6"),s("2877")),l=Object(o["a"])(r,i,n,!1,null,null,null);e["default"]=l.exports},c52c:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-wrapper"},[t._m(0),s("div",{staticClass:"settings-tab-wrapper"},[s("div",{staticClass:"settings-tabs-head"},t._l(t.tabs,function(e){return s("div",{staticClass:"settings-tab-item",class:{active:e.active},on:{click:function(s){return t.setActiveTab(e)}}},[t._v(t._s(e.name))])}),0),s("div",{staticClass:"settings-tabs-content-wrapper"},["Tables"==t.activeTab?s("div",{staticClass:"settings-tab-content"},[s("SettingsTable")],1):t._e(),"Users"==t.activeTab?s("div",{staticClass:"settings-tab-content"},[s("SettingsUser")],1):t._e()])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-head"},[s("div",{staticClass:"settings-head-name"},[s("div",{staticClass:"settings-icon-wrapper"},[t._v("\n\t\t\t\t⚙️\n\t\t\t")]),s("div",{staticClass:"settings-name-wrapper"},[s("div",{staticClass:"settings-head-label"},[t._v("Settings")]),s("div",{staticClass:"settings-head-descr"},[t._v("User & table settings")])])])])}],a=(s("ac4d"),s("8a81"),s("ac6a"),s("7f7f"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-table-wrapper"},[t.tables.length<1?s("div",{staticClass:"settings-empty-tables"},[t._v("\n\t\tNo tables\n\t")]):t._e(),t.tables.length>0?s("div",{staticClass:"settings-table-head"},[t._m(0),t._l(t.tables,function(e){return s("div",{staticClass:"settings-table-row"},[s("div",{staticClass:"settings-table-row-data"},[s("div",{staticClass:"settings-table-item",on:{click:function(s){return t.toggleSettingsRow(e)}}},[s("svg",{staticClass:"settings-table-item-img",class:{active:"visible"==e.showSettings.overflow||"auto"==e.showSettings.overflow},attrs:{width:"7",height:"13"}},[s("use",{attrs:{"xlink:href":"#arrow"}})]),s("div",{staticClass:"settings-table-item-code"},[t._v(t._s(e.code))])]),s("div",{staticClass:"settings-table-item"},[s("div",{staticClass:"settings-table-item-name"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"table.name"}],attrs:{type:"text",placeholder:"Set Name"},domProps:{value:e.name},on:{change:function(s){return t.setTviewSetting(e,"table",{name:e.name})},input:function(s){s.target.composing||t.$set(e,"name",s.target.value)}}})])]),s("div",{staticClass:"settings-table-item"},[s("div",{staticClass:"settings-table-item-flag"},[s("Checkbox",{attrs:{checked:e.visible},on:{"update:checked":function(s){return t.$set(e,"visible",s)},change:function(s){t.setTviewSetting(e,"table",{visible:String(e.visible)})}}})],1)]),s("div",{staticClass:"settings-table-item"})]),s("div",{staticClass:"settings-table-row-setting",style:e.showSettings,attrs:{id:"settings-table-row"}},t._l(e.columns,function(i){return s("div",{staticClass:"settings-table-row-setting-item active"},[s("div",{staticClass:"settings-table-item"},[t._v(" "+t._s(i.field)+" ")]),s("div",{staticClass:"settings-table-item category-font"},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.em.name,expression:"column.em.name"}],staticClass:"settings-table-input-name",attrs:{type:"text",placeholder:"Set Name"},domProps:{value:i.em.name},on:{change:function(s){return t.changeColumnName(e.code,i)},input:function(e){e.target.composing||t.$set(i.em,"name",e.target.value)}}})]),s("div",{staticClass:"settings-table-item centered"},[s("Select",{attrs:{defaultText:i.em.type_info.name}},t._l(t.fieldTypes,function(n){return s("SelectOption",{key:n.code,nativeOn:{click:function(s){return t.changeType({table:e.code,column:i.field,fieldType:n})}}},[t._v(t._s(n.name))])}),1)],1),s("div",{staticClass:"settings-table-item centered"},[t.checkSettingComponent(e,i)?s("button",{staticClass:"settings-table__open-settings",on:{click:function(s){return t.openSettingsPopup(e,i)}}},[t._v("settings")]):t._e()])])}),0)])})],2):t._e(),s("Popup",{attrs:{visible:t.settingsPopup},on:{"update:visible":function(e){t.settingsPopup=e}}},[s("div",{staticClass:"popup__name"},[t._v(t._s(t.settingsColumn.field)+" settings")]),s(t.settingsComponent,{tag:"component",attrs:{settings:t.currentSettings},on:{save:t.saveSettings,cancel:function(e){t.settingsPopup=!1}}})],1)],1)}),r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-table-row-data"},[s("div",{staticClass:"settings-table-item"},[s("div",{staticClass:"settings-table-item-title"},[t._v("Code")])]),s("div",{staticClass:"settings-table-item"},[s("div",{staticClass:"settings-table-item-title"},[t._v("Name")])]),s("div",{staticClass:"settings-table-item"},[s("div",{staticClass:"settings-table-item-title"},[t._v("Show")])]),s("div",{staticClass:"settings-table-item"})])}],o=(s("96cf"),s("3b8d")),l=s("4328"),c=s.n(l),u=s("7b8d"),d=s("1834"),p=s("e902"),v=s("d230"),m={mixins:[v["a"]],components:{Select:u["a"],Checkbox:p["a"],SelectOption:d["a"]},data:function(){return{fieldTypes:[],tables:[],tableStyle:{height:"0px",overflow:"hidden"},settingsPopup:!1,settingsFielType:!1,currentSettings:!1,settingsTable:!1,settingsColumn:!1}},computed:{settingsComponent:function(){var t=this;return 0!=this.settingsFielType&&function(){return s("47f5")("./".concat(t.settingsFielType,"/Settings.vue"))}},getColumns:function(){return this.$store.state.tables.tableColumns}},methods:{checkSettingComponent:function(t,e){try{s("be3c")("./".concat(e.em.settings.code,"/Settings.vue"))}catch(i){return!1}return!0},openSettingsPopup:function(t,e){this.settingsTable=t,this.settingsColumn=e,this.settingsFielType=e.em.type_info.code,this.currentSettings=e.em.settings,this.settingsPopup=!0},saveSettings:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s,i,n,a,r,o,l,u,d;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={tableName:this.settingsTable.code,columnName:this.settingsColumn.field,fieldType:this.settingsFielType,settings:e},s=c.a.stringify(s),t.next=4,this.$axios.post("/settings/setFieldSettings/",s);case 4:if(i=t.sent,!i.data.success){t.next=35;break}this.settingsPopup=!1,n=!0,a=!1,r=void 0,t.prev=10,o=this.tables[Symbol.iterator]();case 12:if(n=(l=o.next()).done){t.next=20;break}if(u=l.value,u.code==this.settingsTable.code){t.next=16;break}return t.abrupt("continue",17);case 16:for(d in u.columns)d==this.settingsColumn.field&&(u.columns[d].em.settings=i.data.settings);case 17:n=!0,t.next=12;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](10),a=!0,r=t.t0;case 26:t.prev=26,t.prev=27,n||null==o.return||o.return();case 29:if(t.prev=29,!a){t.next=32;break}throw r;case 32:return t.finish(29);case 33:return t.finish(26);case 34:this.ElMessage("😎 Settings saved!");case 35:case"end":return t.stop()}},t,this,[[10,22,26,34],[27,,29,33]])}));function e(e){return t.apply(this,arguments)}return e}(),getFieldSettings:function(t,e){return this.$store.getters.getColumnSettings(t.code,e.field)},changeType:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s,i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=c.a.stringify({tableName:e.table,columnName:e.column,fieldType:e.fieldType.code}),t.next=3,this.$axios({method:"post",url:"/settings/changeFieldType/",data:s});case 3:if(i=t.sent,i.data.success){t.next=6;break}return t.abrupt("return",!1);case 6:n=this.getTableByCode(e.table,this.tables),this.$set(n.columns[e.column],"em",i.data.settings);case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),toggleSettingsRow:function(t){if("visible"==t.showSettings.overflow)return t.showSettings.overflow="hidden",t.showSettings.height="0",!1;var e=0;for(var s in t.columns)e+=49;t.showSettings.height=e+"px",t.showSettings.overflow="auto",setTimeout(function(){t.showSettings.overflow="visible"},300)},setRowSetting:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.showSettings=!e.showSettings;case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),changeColumnName:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,i){var n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=s("4328"),a=n.stringify({tableName:e,field:i.field,name:i.em.name,type:i.em.type_info.code}),t.next=3,this.$axios({method:"POST",url:"/settings/changeName/",data:a});case 3:if(r=t.sent,r.data.success){t.next=6;break}return t.abrupt("return",!1);case 6:case"end":return t.stop()}},t,this)}));function e(e,s){return t.apply(this,arguments)}return e}(),initTables:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s,i,n,a,r,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("/settings/getFiledTypes/");case 2:for(e=t.sent,e.data.success&&(this.fieldTypes=e.data.types),this.tables=this.$store.state.tables.tables,s=!0,i=!1,n=void 0,t.prev=8,a=this.tables[Symbol.iterator]();!(s=(r=a.next()).done);s=!0)o=r.value,this.$set(o,"showSettings",Object.assign({},this.tableStyle));t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](8),i=!0,n=t.t0;case 16:t.prev=16,t.prev=17,s||null==a.return||a.return();case 19:if(t.prev=19,!i){t.next=22;break}throw n;case 22:return t.finish(19);case 23:return t.finish(16);case 24:this.$store.commit("showLoader",!1);case 25:case"end":return t.stop()}},t,this,[[8,12,16,24],[17,,19,23]])}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.initTables()}},h=m,g=(s("f2f6"),s("2877")),f=Object(g["a"])(h,a,r,!1,null,null,null),_=f.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-users-wrapper"},[s("div",{staticClass:"settings-users-head"},[t._m(0),t._l(t.$store.state.settings.users,function(e){return s("div",{staticClass:"settings-users-row"},[s("div",{staticClass:"settings-users-row-data"},[s("div",{staticClass:"settings-users-item"},[s("svg",{staticClass:"settings-users-item-img",class:{active:e.isShow},attrs:{width:"7",height:"13"},on:{click:function(s){return t.setRowSetting(e)}}},[s("use",{attrs:{"xlink:href":"#arrow"}})]),s("div",{staticClass:"settings-users-item-code"},[t._v(t._s(e.login))])]),s("div",{staticClass:"settings-users-item"},[t._v(t._s(e.name))]),s("div",{staticClass:"settings-users-item"},[s("a",{staticClass:"settings-users__remove-user",attrs:{href:"#"},on:{click:function(s){return t.removeUser(e)}}},[t._v("remove")])])]),s("div",{staticClass:"settings-users-row-setting"},[s("div",{staticClass:"settings-users-row-setting-item",class:{active:e.isShow}},[s("div",{staticClass:"settings-users-item"},[t._v("\n\t\t\t\t\t\tid\n\t\t\t\t\t")]),s("div",{staticClass:"settings-users-item"},[t._v("\n\t\t\t\t\t\t"+t._s(e.id)+"\n\t\t\t\t\t")])]),s("div",{staticClass:"settings-users-row-setting-item",class:{active:e.isShow}},[s("div",{staticClass:"settings-users-item"},[t._v(" name ")]),s("div",{staticClass:"settings-users-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"user.name"}],staticClass:"settings-users-input",attrs:{type:"text",placeholder:"Set name"},domProps:{value:e.name},on:{change:function(s){return t.updateUser(e)},input:function(s){s.target.composing||t.$set(e,"name",s.target.value)}}})])]),s("div",{staticClass:"settings-users-row-setting-item",class:{active:e.isShow}},[s("div",{staticClass:"settings-users-item"},[t._v(" login ")]),s("div",{staticClass:"settings-users-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.login,expression:"user.login"}],staticClass:"settings-users-input",attrs:{type:"text",placeholder:"Set login"},domProps:{value:e.login},on:{change:function(s){return t.updateUser(e)},input:function(s){s.target.composing||t.$set(e,"login",s.target.value)}}})])]),s("div",{staticClass:"settings-users-row-setting-item",class:{active:e.isShow}},[s("div",{staticClass:"settings-users-item"},[t._v(" email ")]),s("div",{staticClass:"settings-users-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"user.email"}],staticClass:"settings-users-input",attrs:{type:"text",placeholder:"Set email"},domProps:{value:e.email},on:{change:function(s){return t.updateUser(e)},input:function(s){s.target.composing||t.$set(e,"email",s.target.value)}}})])]),s("div",{staticClass:"settings-users-row-setting-item",class:{active:e.isShow}},[s("div",{staticClass:"settings-users-item"},[t._v(" password ")]),s("div",{staticClass:"settings-users-item settings-users__password-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"user.newPassword"}],staticClass:"settings-users-input",attrs:{type:"password",placeholder:"Set password"},domProps:{value:e.newPassword},on:{input:function(s){s.target.composing||t.$set(e,"newPassword",s.target.value)}}}),""!=e.newPassword?s("button",{staticClass:"settings-users-btn",on:{click:function(s){return t.updatePassword(e)}}},[t._v("change")]):t._e()])])])])})],2),s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.openAddUser()}}},[t._v("Add User")]),s("Popup",{attrs:{visible:t.addPopupVisible},on:{"update:visible":function(e){t.addPopupVisible=e}}},[s("AddUser",{on:{cancel:function(e){t.addPopupVisible=!1}}})],1)],1)},b=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-users-row-data"},[s("div",{staticClass:"settings-users-item"},[s("div",{staticClass:"settings-users-item-title"},[t._v("Login")])]),s("div",{staticClass:"settings-users-item"},[s("div",{staticClass:"settings-users-item-title"},[t._v("Name")])]),s("div",{staticClass:"settings-users-item"})])}],w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"popup__name"},[t._v("Add User")]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tName\n\t\t\t"),t.errors.name?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.name))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:"Enter name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tLogin\n\t\t\t"),t.errors.login?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.login))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:"Enter login"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}})])]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tEmail\n\t\t\t"),t.errors.email?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.email))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:"Enter email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tPassword\n\t\t\t"),t.errors.password?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.password))]):t._e()]),s("div",{staticClass:"popup__field-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:"Enter password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v("Cancel")]),s("button",{staticClass:"el-btn",on:{click:function(e){return t.addUser()}}},[t._v("Add")])])])},S=[],k={data:function(){return{name:"",login:"",email:"",password:"",errors:{name:!1,login:!1,email:!1,password:!1}}},methods:{validate:function(){for(var t=["name","login","email","password"],e=!0,s=0,i=t;s<i.length;s++){var n=i[s];""==this[n]?(this.errors[n]="This field required",e=!1):this.errors[n]=!1}return e},addUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.validate()){t.next=2;break}return t.abrupt("return",!1);case 2:return e={name:this.name,login:this.login,email:this.email,password:this.password},s=c.a.stringify(e),e.isShow=!1,e.newPassword="",t.next=8,this.$axios.post("/users/addUser/",s);case 8:if(i=t.sent,!i.data.success){t.next=15;break}e.id=i.data.id,this.$store.commit("addUser",e),this.cancel(),t.next=16;break;case 15:return t.abrupt("return",this.ElMessage.error(i.data.message));case 16:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$emit("cancel")}}},x=k,y=Object(g["a"])(x,w,S,!1,null,null,null),$=y.exports,P={components:{AddUser:$},data:function(){return{users:[],addPopupVisible:!1}},methods:{setRowSetting:function(t){t.isShow=!t.isShow},updateUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={},s.id=e.id,s.login=e.login,s.name=e.name,s.email=e.email,s=c.a.stringify(s),t.next=8,this.$axios.post("/users/updateUser/",s);case 8:i=t.sent,i.data.success&&this.ElMessage("User saved.");case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),updatePassword:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={},s.id=e.id,s.password=e.newPassword,s=c.a.stringify(s),t.next=6,this.$axios.post("/users/updateUser/",s);case 6:i=t.sent,i.data.success&&(this.ElMessage("Password saved."),e.newPassword="");case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),openAddUser:function(){this.addPopupVisible=!0},removeUser:function(t){this.$store.dispatch("removeUser",t)}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("getUsers");case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},T=P,O=(s("6a5f"),Object(g["a"])(T,C,b,!1,null,null,null)),N=O.exports,R={components:{SettingsTable:_,SettingsUser:N},metaInfo:{title:"Settings"},data:function(){return{tabs:[{name:"Tables",active:!0},{name:"Users",active:!1}],activeTab:"Tables"}},methods:{setActiveTab:function(t){var e=!0,s=!1,i=void 0;try{for(var n,a=this.tabs[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var r=n.value;r.active=!1}}catch(o){s=!0,i=o}finally{try{e||null==a.return||a.return()}finally{if(s)throw i}}t.active=!0,this.activeTab=t.name}},mounted:function(){this.$store.commit("showLoader",!0)}},U=R,E=(s("2234"),Object(g["a"])(U,i,n,!1,null,null,null));e["default"]=E.exports},d1c6:function(t,e,s){"use strict";var i=s("15af"),n=s.n(i);n.a},d230:function(t,e,s){"use strict";s("96cf");var i=s("3b8d");s("ac4d"),s("8a81"),s("ac6a");e["a"]={methods:{getTableByCode:function(t,e){var s=!0,i=!1,n=void 0;try{for(var a,r=e[Symbol.iterator]();!(s=(a=r.next()).done);s=!0){var o=a.value;if(o.code==t)return o}}catch(l){i=!0,n=l}finally{try{s||null==r.return||r.return()}finally{if(i)throw n}}},getDefaultTview:function(t){var e=!0,s=!1,i=void 0;try{for(var n,a=t.tviews[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var r=n.value;if("1"===r.default)return r}}catch(o){s=!0,i=o}finally{try{e||null==a.return||a.return()}finally{if(s)throw i}}},setTviewSetting:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,i,n){var a,r,o,l,c,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.getDefaultTview(e),r=a.settings,o=s("4328"),"undefined"==typeof r[i])r={},this.$set(r,i,n);else for(l in n)r[i][l]=n[l];return c=o.stringify({tviewId:a.id,params:r}),t.next=5,this.$axios({method:"POST",data:c,url:"/el/setTviewSettings/"});case 5:if(u=t.sent,u.data.success){t.next=8;break}return t.abrupt("return",!1);case 8:a.settings=r;case 9:case"end":return t.stop()}},t,this)}));function e(e,s,i){return t.apply(this,arguments)}return e}()}}},dee1:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-popup-row-params"},[s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tFolder for save\n\t\t\t"),t.errors.savePath?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.savePath.message))]):t._e()]),s("div",{staticClass:"popup__field-input em-file__settings-path"},[s("span",[t._v(t._s(t.settings.rootPath))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.localSettings.savePath,expression:"localSettings.savePath"}],attrs:{type:"text",placeholder:"Folder for save"},domProps:{value:t.localSettings.savePath},on:{change:t.checkPath,input:function(e){e.target.composing||t.$set(t.localSettings,"savePath",e.target.value)}}})])]),s("div",{staticClass:"popup__field"},[s("div",{staticClass:"popup__field-name"},[t._v("\n\t\t\tResolutions\n\t\t\t"),t.errors.nodeFieldCode?s("small",{staticClass:"popup__field-error"},[t._v(t._s(t.errors.nodeFieldCode.message))]):t._e()])]),s("div",{staticClass:"em-file__s-resolutions"},[t._m(0),t._l(t.localSettings.resolutions,function(e,i){return s("div",{key:i,staticClass:"em-file__s-resolution"},[s("div",{staticClass:"em-file__s-code"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"listItem.code"}],staticClass:"el-inp-noborder",attrs:{type:"text",placeholder:"Code",disabled:e.required},domProps:{value:e.code},on:{input:function(s){s.target.composing||t.$set(e,"code",s.target.value)}}})]),s("div",{staticClass:"em-file__s-width"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.width,expression:"listItem.width",modifiers:{number:!0}}],staticClass:"el-inp-noborder",attrs:{type:"number",placeholder:"Width"},domProps:{value:e.width},on:{input:function(s){s.target.composing||t.$set(e,"width",t._n(s.target.value))},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"em-file__s-height"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.height,expression:"listItem.height",modifiers:{number:!0}}],staticClass:"el-inp-noborder",attrs:{type:"number",placeholder:"Height"},domProps:{value:e.height},on:{input:function(s){s.target.composing||t.$set(e,"height",t._n(s.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e.required?t._e():s("div",{staticClass:"em-file__s-remove"},[s("div",{staticClass:"em-file__s-remove-button",on:{click:function(e){return e.stopPropagation(),t.removeResolution(i)}}},[s("svg",{attrs:{width:"12",height:"12"}},[s("use",{attrs:{"xlink:href":"#plus-white"}})])])]),t.errors.resolutions&&t.errors.resolutions[i]?s("small",{staticClass:"em-file__s-error"},[t._v(t._s(t.errors.resolutions[i].message))]):t._e()])})],2),s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.addResolution()}}},[t._v("Add resolution")]),s("div",{staticClass:"popup__buttons"},[s("button",{staticClass:"el-gbtn",on:{click:function(e){return t.cancel()}}},[t._v("Cancel")]),s("button",{staticClass:"el-btn",on:{click:function(e){return t.save()}}},[t._v("Save settigns")])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"em-file__s-resolution"},[s("div",{staticClass:"em-file__s-code"},[t._v("Code")]),s("div",{staticClass:"em-file__s-width"},[t._v("Width")]),s("div",{staticClass:"em-file__s-height"},[t._v("Height")]),s("div",{staticClass:"em-file__s-remove"})])}],a=(s("96cf"),s("3b8d")),r=s("7b8d"),o=s("1834"),l={props:["settings"],components:{Select:r["a"],SelectOption:o["a"]},data:function(){return{localSettings:{savePath:"element/public/upload/",resolutions:[{code:"small",width:50,height:50,required:1}]},newResolution:{code:"",width:0,height:0},errors:{},errorPath:!1}},methods:{cancel:function(){this.$emit("cancel")},save:function(){this.validate()&&this.$emit("save",this.localSettings)},validate:function(){var t=!1;for(var e in this.localSettings)0!=this.localSettings[e]&&""!=this.localSettings[e]||(this.$set(this.errors,e,{message:"Field is required"}),t=!0);!1!==this.errorPath&&(this.$set(this.errors,"savePath",{message:this.errorPath}),t=!0);var s=[];for(var e in this.localSettings.resolutions){var i=this.localSettings.resolutions[e];""!=i.code&&(i.width>0||i.height>0)||(""==i.code?s[e]={message:"Code can't be empty"}:this.checkCodeUnique(i.code,e)?s[e]={message:"Height or width must be filled"}:s[e]={message:"Code must be unique"})}return 0==s.length?!t:(t=!0,this.$set(this.errors,"resolutions",s),!t)},checkCodeUnique:function(t,e){for(var s in this.localSettings.resolutions)if(s!=e&&this.localSettings.resolutions[s].code==t)return!1;return!0},checkPath:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.localSettings.savePath){t.next=2;break}return t.abrupt("return");case 2:return e=s("4328"),i=e.stringify({path:this.localSettings.savePath}),t.next=5,this.$axios({method:"POST",url:"/field/em_file/index/checkPath/",data:i});case 5:if(n=t.sent,1!=n.data.success){t.next=9;break}return this.errorPath=!1,t.abrupt("return");case 9:this.errorPath=n.data.message;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),removeResolution:function(t){this.$delete(this.localSettings.resolutions,t),this.errors={}},addResolution:function(){this.localSettings.resolutions.push(Object.assign({},this.newResolution))}},mounted:function(){for(var t in this.localSettings)"undefined"!=typeof this.settings[t]&&this.$set(this.localSettings,t,this.settings[t])}},c=l,u=(s("66fe"),s("2877")),d=Object(u["a"])(c,i,n,!1,null,null,null);e["default"]=d.exports},e902:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"checkbox"},[s("label",{staticClass:"checkbox__label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isCheched,expression:"isCheched"}],staticClass:"checkbox__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isCheched)?t._i(t.isCheched,null)>-1:t.isCheched},on:{change:[function(e){var s=t.isCheched,i=e.target,n=!!i.checked;if(Array.isArray(s)){var a=null,r=t._i(s,a);i.checked?r<0&&(t.isCheched=s.concat([a])):r>-1&&(t.isCheched=s.slice(0,r).concat(s.slice(r+1)))}else t.isCheched=n},function(e){return t.change()}]}}),s("span",[s("svg",{attrs:{width:"7",height:"7"}},[s("use",{attrs:{"xlink:href":"#check"}})])])])])},n=[],a={props:{checked:{type:Boolean,default:!1}},data:function(){return{isCheched:!1}},watch:{checked:function(t,e){this.isCheched=t}},methods:{change:function(){this.$emit("update:checked",this.isCheched),this.$emit("change",this.isCheched)}},mounted:function(){this.isCheched=this.checked}},r=a,o=(s("7f97"),s("2877")),l=Object(o["a"])(r,i,n,!1,null,null,null);e["a"]=l.exports},f2f6:function(t,e,s){"use strict";var i=s("9a8c"),n=s.n(i);n.a}}]);
//# sourceMappingURL=chunk-1e4ffe8e.d66c63ce.js.map