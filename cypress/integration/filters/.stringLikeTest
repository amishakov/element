describe('stringLikeTest', ()=>
{
	function contains(nameOfField, val)
	{
		cy.get('.select.filters-popup__select').contains('id').click();
		cy.get('.select__dropdown').contains(nameOfField).click();
		cy.get('.select.filters-popup__select').contains('Is Not Empty').click();
		cy.contains('Contains').click();
		cy.get('.filters-popup__operators-wrapper input').type(val);
	};

	function is(nameOfField, val)
	{
		cy.get('.select.filters-popup__select').contains('id').click();
		cy.get('.select__dropdown').contains(nameOfField).click();
		cy.get('.select.filters-popup__select').contains('Is Not Empty').click();
		cy.contains(/Is$/).click();
		cy.get('.filters-popup__operators-wrapper input').type(val);
	};

	function addFilter()
	{
		cy.contains('Add filter').click();
	};

	function clearFilters()
	{
		if (cy.get('.filters-popup__delete-row-icon-wrapper'))
			cy.get('.filters-popup__delete-row-icon-wrapper').click();
	};

	function empty(nameOfField)
	{
		cy.get('.select.filters-popup__select').contains('id').click();
		cy.get('.select__dropdown').contains(nameOfField).click();
		cy.get('.select.filters-popup__select').contains('Is Not Empty').click();
		cy.get('.select__dropdown').contains(/Is Empty/).click();
		cy.get('.table-row').eq(0);
	};

	it('visit a page', ()=>
	{
		cy.visit('localhost:8080/element');
	});

	it('log in', ()=>
	{
		cy.get('.auth-form-input__login').type('admin');
		cy.get('.auth-form-input__password').type('adminpass');
		cy.get('.auth-fill-btn.el-btn').click();
		cy.setCookie('user', '%7B%22name%22%3A%22Untitel%22%2C%22id%22%3A%221%22%2C%22email%22%3A%22admin%40email.com%22%2C%22avatar%22%3A%22https%3A%2F%2Fwww.gravatar.com%2Favatar%2F59235f35e4763abb0b547bd093562f6e%26s%3D40%22%2C%22language%22%3A%7B%22short%22%3A%22en%22%2C%22long%22%3A%22English%22%7D%7D');
		cy.wait(1000).visit('localhost:8080/element/table/products/tview/20/page/1/');
		cy.get('.index__head-options-list').contains('Filter').click();
	});

	it.skip('filter empty', ()=>
	{
		addFilter();
		empty('name');
		clearFilters();

		addFilter();
		empty('description');
		clearFilters();

		addFilter();
		empty('link');
		clearFilters();

		addFilter();
		empty('special');
		clearFilters();
	});

	it.skip('filter is', ()=>
	{
		addFilter();
		is('id', 20);
		cy.get('.table-row').eq(1);
		clearFilters();

		addFilter();
		is('name', 'Шторы');
		cy.get('.table-row').eq(1);
		clearFilters();

		addFilter();
		is('description', 'Фотошторы на заказ');
		cy.get('.table-row').eq(1);
		clearFilters();

		addFilter();
		is('link', 109);
		cy.get('.table-row').eq(3);
		clearFilters();

		addFilter();
		is('link', 'some value');
		cy.get('.table-row').eq(0);
		clearFilters();
	});

	it.skip('filter contains', ()=>
	{
		addFilter();
		contains('id', 5);
		cy.get('.table-row').eq(17);
		clearFilters();

		addFilter();
		contains('name', 'Шторы');
		cy.get('.table-row').eq(3);
		clearFilters();

		addFilter();
		contains('description', 'Шторы');
		cy.get('.table-row').eq(2);
		clearFilters();

		addFilter();
		contains('link', 10);
		cy.get('.table-row').eq(5);
		clearFilters();

		addFilter();
		contains('link', 'some value');
		cy.get('.table-row').eq(0);
		clearFilters();
	});

	it.skip('filter Start With', ()=>
	{
		addFilter();
		startWith('id', 2);
		cy.get('.table-row').eq(10);
		clearFilters();

		addFilter();
		startWith('name', 'Ш');
		cy.get('.table-row').eq(3);
		clearFilters();

		addFilter();
		startWith('description', 'Шторы');
		cy.get('.table-row').eq(2);
		clearFilters();

		addFilter();
		startWith('link', 10);
		cy.get('.table-row').eq(5);
		clearFilters();

		addFilter();
		startWith('link', 'some value');
		cy.get('.table-row').eq(0);
		clearFilters();
	});
});